import{_ as s,o as n,c as a,e as t}from"./app-89oEaZHl.js";const e={},p=t(`<h1 id="api-规范文档" tabindex="-1"><a class="header-anchor" href="#api-规范文档" aria-hidden="true">#</a> API 规范文档</h1><h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述" aria-hidden="true">#</a> 概述</h2><p>WeQuant 量化交易平台 API 规范，包含所有微服务的接口定义、请求/响应格式、错误处理和认证机制。</p><h2 id="🔧-通用规范" tabindex="-1"><a class="header-anchor" href="#🔧-通用规范" aria-hidden="true">#</a> 🔧 通用规范</h2><h3 id="基础url" tabindex="-1"><a class="header-anchor" href="#基础url" aria-hidden="true">#</a> 基础URL</h3><table><thead><tr><th>服务</th><th>环境</th><th>URL</th></tr></thead><tbody><tr><td>user-service</td><td>开发</td><td>http://localhost:8081/user-service/api/v1</td></tr><tr><td>stock-service</td><td>开发</td><td>http://localhost:8082/stock-service/api/v1</td></tr><tr><td>trading-service</td><td>开发</td><td>http://localhost:8083/trading-service/api/v1</td></tr><tr><td>market-data-service</td><td>开发</td><td>http://localhost:5001/api</td></tr><tr><td>mock-trading-service</td><td>开发</td><td>http://localhost:5002/api</td></tr></tbody></table><h3 id="通用响应格式" tabindex="-1"><a class="header-anchor" href="#通用响应格式" aria-hidden="true">#</a> 通用响应格式</h3><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;操作成功&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17T15:30:00Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="错误响应格式" tabindex="-1"><a class="header-anchor" href="#错误响应格式" aria-hidden="true">#</a> 错误响应格式</h3><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;错误描述&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;具体错误信息&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17T15:30:00Z&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="http状态码" tabindex="-1"><a class="header-anchor" href="#http状态码" aria-hidden="true">#</a> HTTP状态码</h3><table><thead><tr><th>状态码</th><th>含义</th><th>使用场景</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td>请求成功</td></tr><tr><td>201</td><td>Created</td><td>资源创建成功</td></tr><tr><td>400</td><td>Bad Request</td><td>请求参数错误</td></tr><tr><td>401</td><td>Unauthorized</td><td>未认证</td></tr><tr><td>403</td><td>Forbidden</td><td>无权限</td></tr><tr><td>404</td><td>Not Found</td><td>资源不存在</td></tr><tr><td>500</td><td>Internal Server Error</td><td>服务器内部错误</td></tr></tbody></table><hr><h2 id="🔐-用户服务-user-service" tabindex="-1"><a class="header-anchor" href="#🔐-用户服务-user-service" aria-hidden="true">#</a> 🔐 用户服务 (user-service)</h2><h3 id="认证相关" tabindex="-1"><a class="header-anchor" href="#认证相关" aria-hidden="true">#</a> 认证相关</h3><h4 id="_1-用户注册" tabindex="-1"><a class="header-anchor" href="#_1-用户注册" aria-hidden="true">#</a> 1. 用户注册</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST /api/v1/auth/register
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token application-json">
<span class="token punctuation">{</span>
  <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;testuser&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test@example.com&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;password123&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试用户&quot;</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;注册成功&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;userId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12345&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;testuser&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test@example.com&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试用户&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;createdAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17T15:30:00Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-用户登录" tabindex="-1"><a class="header-anchor" href="#_2-用户登录" aria-hidden="true">#</a> 2. 用户登录</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST /api/v1/auth/login
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token application-json">
<span class="token punctuation">{</span>
  <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;testuser&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;password123&quot;</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;登录成功&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jwt_token_here&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;refreshToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;refresh_token_here&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;userId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12345&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;testuser&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test@example.com&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;fullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试用户&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-18T15:30:00Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-用户登出" tabindex="-1"><a class="header-anchor" href="#_3-用户登出" aria-hidden="true">#</a> 3. 用户登出</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST /api/v1/auth/logout
<span class="token header"><span class="token header-name keyword">Authorization</span><span class="token punctuation">:</span> <span class="token header-value">Bearer {jwt_token}</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="用户管理" tabindex="-1"><a class="header-anchor" href="#用户管理" aria-hidden="true">#</a> 用户管理</h3><h4 id="_4-获取用户信息" tabindex="-1"><a class="header-anchor" href="#_4-获取用户信息" aria-hidden="true">#</a> 4. 获取用户信息</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/v1/user/profile
<span class="token header"><span class="token header-name keyword">Authorization</span><span class="token punctuation">:</span> <span class="token header-value">Bearer {jwt_token}</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;userId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12345&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;testuser&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test@example.com&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试用户&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;13800138000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ACTIVE&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;riskLevel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MODERATE&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;preferences&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;theme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LIGHT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zh-CN&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;timezone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Asia/Shanghai&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-更新用户信息" tabindex="-1"><a class="header-anchor" href="#_5-更新用户信息" aria-hidden="true">#</a> 5. 更新用户信息</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>PUT /api/v1/user/profile
<span class="token header"><span class="token header-name keyword">Authorization</span><span class="token punctuation">:</span> <span class="token header-value">Bearer {jwt_token}</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token application-json">
<span class="token punctuation">{</span>
  <span class="token property">&quot;fullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;新的姓名&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;13900139000&quot;</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="📈-股票服务-stock-service" tabindex="-1"><a class="header-anchor" href="#📈-股票服务-stock-service" aria-hidden="true">#</a> 📈 股票服务 (stock-service)</h2><h3 id="股票数据" tabindex="-1"><a class="header-anchor" href="#股票数据" aria-hidden="true">#</a> 股票数据</h3><h4 id="_1-获取股票最新价格" tabindex="-1"><a class="header-anchor" href="#_1-获取股票最新价格" aria-hidden="true">#</a> 1. 获取股票最新价格</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/v1/stocks/{code}/latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>示例</strong>: <code>GET /api/v1/stocks/000001.SZ/latest</code></p><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change&quot;</span><span class="token operator">:</span> <span class="token number">0.06</span><span class="token punctuation">,</span>
    <span class="token property">&quot;changePct&quot;</span><span class="token operator">:</span> <span class="token number">0.53</span><span class="token punctuation">,</span>
    <span class="token property">&quot;volume&quot;</span><span class="token operator">:</span> <span class="token number">12847500</span><span class="token punctuation">,</span>
    <span class="token property">&quot;turnover&quot;</span><span class="token operator">:</span> <span class="token number">146543000.00</span><span class="token punctuation">,</span>
    <span class="token property">&quot;open&quot;</span><span class="token operator">:</span> <span class="token number">11.33</span><span class="token punctuation">,</span>
    <span class="token property">&quot;high&quot;</span><span class="token operator">:</span> <span class="token number">11.41</span><span class="token punctuation">,</span>
    <span class="token property">&quot;low&quot;</span><span class="token operator">:</span> <span class="token number">11.27</span><span class="token punctuation">,</span>
    <span class="token property">&quot;preClose&quot;</span><span class="token operator">:</span> <span class="token number">11.34</span><span class="token punctuation">,</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17T15:00:00Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-获取股票历史数据" tabindex="-1"><a class="header-anchor" href="#_2-获取股票历史数据" aria-hidden="true">#</a> 2. 获取股票历史数据</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/v1/stocks/{code}/history?days={days}&amp;period={period}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>参数</strong>:</p><ul><li><code>days</code>: 天数 (默认: 30)</li><li><code>period</code>: 周期 daily|weekly|monthly (默认: daily)</li></ul><p><strong>示例</strong>: <code>GET /api/v1/stocks/000001.SZ/history?days=30</code></p><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;history&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;open&quot;</span><span class="token operator">:</span> <span class="token number">11.33</span><span class="token punctuation">,</span>
        <span class="token property">&quot;high&quot;</span><span class="token operator">:</span> <span class="token number">11.41</span><span class="token punctuation">,</span>
        <span class="token property">&quot;low&quot;</span><span class="token operator">:</span> <span class="token number">11.27</span><span class="token punctuation">,</span>
        <span class="token property">&quot;close&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
        <span class="token property">&quot;volume&quot;</span><span class="token operator">:</span> <span class="token number">12847500</span><span class="token punctuation">,</span>
        <span class="token property">&quot;turnover&quot;</span><span class="token operator">:</span> <span class="token number">146543000.00</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-16&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;open&quot;</span><span class="token operator">:</span> <span class="token number">11.30</span><span class="token punctuation">,</span>
        <span class="token property">&quot;high&quot;</span><span class="token operator">:</span> <span class="token number">11.38</span><span class="token punctuation">,</span>
        <span class="token property">&quot;low&quot;</span><span class="token operator">:</span> <span class="token number">11.25</span><span class="token punctuation">,</span>
        <span class="token property">&quot;close&quot;</span><span class="token operator">:</span> <span class="token number">11.34</span><span class="token punctuation">,</span>
        <span class="token property">&quot;volume&quot;</span><span class="token operator">:</span> <span class="token number">11235800</span><span class="token punctuation">,</span>
        <span class="token property">&quot;turnover&quot;</span><span class="token operator">:</span> <span class="token number">127456000.00</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-获取股票基本信息" tabindex="-1"><a class="header-anchor" href="#_3-获取股票基本信息" aria-hidden="true">#</a> 3. 获取股票基本信息</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/v1/stocks/{code}/info
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行股份有限公司&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;industry&quot;</span><span class="token operator">:</span> <span class="token string">&quot;银行业&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sector&quot;</span><span class="token operator">:</span> <span class="token string">&quot;金融&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;marketCap&quot;</span><span class="token operator">:</span> <span class="token number">254820000000.00</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pe&quot;</span><span class="token operator">:</span> <span class="token number">5.23</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pb&quot;</span><span class="token operator">:</span> <span class="token number">0.67</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eps&quot;</span><span class="token operator">:</span> <span class="token number">2.18</span><span class="token punctuation">,</span>
    <span class="token property">&quot;roe&quot;</span><span class="token operator">:</span> <span class="token number">12.85</span><span class="token punctuation">,</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;中国平安银行股份有限公司...&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="市场数据" tabindex="-1"><a class="header-anchor" href="#市场数据" aria-hidden="true">#</a> 市场数据</h3><h4 id="_4-获取涨跌排行榜" tabindex="-1"><a class="header-anchor" href="#_4-获取涨跌排行榜" aria-hidden="true">#</a> 4. 获取涨跌排行榜</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/v1/market/ranking?type={type}&amp;limit={limit}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>参数</strong>:</p><ul><li><code>type</code>: gainers|losers|volume|turnover (默认: gainers)</li><li><code>limit</code>: 数量限制 (默认: 50)</li></ul><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gainers&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;updateTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17T15:00:00Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stocks&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
        <span class="token property">&quot;changePct&quot;</span><span class="token operator">:</span> <span class="token number">5.23</span><span class="token punctuation">,</span>
        <span class="token property">&quot;volume&quot;</span><span class="token operator">:</span> <span class="token number">12847500</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-获取板块数据" tabindex="-1"><a class="header-anchor" href="#_5-获取板块数据" aria-hidden="true">#</a> 5. 获取板块数据</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/v1/market/sectors?type={type}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>参数</strong>:</p><ul><li><code>type</code>: industry|concept (默认: industry)</li></ul><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;sectors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BK0475&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;银行&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;changePct&quot;</span><span class="token operator">:</span> <span class="token number">2.15</span><span class="token punctuation">,</span>
        <span class="token property">&quot;stockCount&quot;</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
        <span class="token property">&quot;leadingStocks&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;changePct&quot;</span><span class="token operator">:</span> <span class="token number">5.23</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="💰-交易服务-trading-service" tabindex="-1"><a class="header-anchor" href="#💰-交易服务-trading-service" aria-hidden="true">#</a> 💰 交易服务 (trading-service)</h2><h3 id="账户管理" tabindex="-1"><a class="header-anchor" href="#账户管理" aria-hidden="true">#</a> 账户管理</h3><h4 id="_1-创建交易账户" tabindex="-1"><a class="header-anchor" href="#_1-创建交易账户" aria-hidden="true">#</a> 1. 创建交易账户</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST /api/v1/accounts
<span class="token header"><span class="token header-name keyword">Authorization</span><span class="token punctuation">:</span> <span class="token header-value">Bearer {jwt_token}</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token application-json">
<span class="token punctuation">{</span>
  <span class="token property">&quot;initialBalance&quot;</span><span class="token operator">:</span> <span class="token number">1000000.00</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;账户创建成功&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;accountId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;acc_123456789&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;userId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;user_123&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token number">1000000.00</span><span class="token punctuation">,</span>
    <span class="token property">&quot;totalAssets&quot;</span><span class="token operator">:</span> <span class="token number">1000000.00</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ACTIVE&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;createdAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17T15:30:00Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-获取账户信息" tabindex="-1"><a class="header-anchor" href="#_2-获取账户信息" aria-hidden="true">#</a> 2. 获取账户信息</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/v1/accounts/{accountId}
<span class="token header"><span class="token header-name keyword">Authorization</span><span class="token punctuation">:</span> <span class="token header-value">Bearer {jwt_token}</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;accountId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;acc_123456789&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token number">980000.00</span><span class="token punctuation">,</span>
    <span class="token property">&quot;totalAssets&quot;</span><span class="token operator">:</span> <span class="token number">1015000.00</span><span class="token punctuation">,</span>
    <span class="token property">&quot;marketValue&quot;</span><span class="token operator">:</span> <span class="token number">35000.00</span><span class="token punctuation">,</span>
    <span class="token property">&quot;frozenAmount&quot;</span><span class="token operator">:</span> <span class="token number">0.00</span><span class="token punctuation">,</span>
    <span class="token property">&quot;positionCount&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;totalProfit&quot;</span><span class="token operator">:</span> <span class="token number">15000.00</span><span class="token punctuation">,</span>
    <span class="token property">&quot;totalProfitPct&quot;</span><span class="token operator">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;positions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;stockCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;stockName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
        <span class="token property">&quot;avgCost&quot;</span><span class="token operator">:</span> <span class="token number">11.20</span><span class="token punctuation">,</span>
        <span class="token property">&quot;currentPrice&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
        <span class="token property">&quot;marketValue&quot;</span><span class="token operator">:</span> <span class="token number">11400.00</span><span class="token punctuation">,</span>
        <span class="token property">&quot;profitLoss&quot;</span><span class="token operator">:</span> <span class="token number">200.00</span><span class="token punctuation">,</span>
        <span class="token property">&quot;profitLossPct&quot;</span><span class="token operator">:</span> <span class="token number">1.79</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="交易操作" tabindex="-1"><a class="header-anchor" href="#交易操作" aria-hidden="true">#</a> 交易操作</h3><h4 id="_3-执行交易" tabindex="-1"><a class="header-anchor" href="#_3-执行交易" aria-hidden="true">#</a> 3. 执行交易</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST /api/v1/trades
<span class="token header"><span class="token header-name keyword">Authorization</span><span class="token punctuation">:</span> <span class="token header-value">Bearer {jwt_token}</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token application-json">
<span class="token punctuation">{</span>
  <span class="token property">&quot;accountId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;acc_123456789&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stockCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tradeType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BUY&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;交易执行成功&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;tradeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;trade_123456789&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;accountId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;acc_123456789&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stockCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stockName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tradeType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BUY&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">11400.00</span><span class="token punctuation">,</span>
    <span class="token property">&quot;commission&quot;</span><span class="token operator">:</span> <span class="token number">3.42</span><span class="token punctuation">,</span>
    <span class="token property">&quot;totalCost&quot;</span><span class="token operator">:</span> <span class="token number">11403.42</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;COMPLETED&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tradeTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17T15:30:00Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-获取交易历史" tabindex="-1"><a class="header-anchor" href="#_4-获取交易历史" aria-hidden="true">#</a> 4. 获取交易历史</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/v1/trades/{accountId}?page={page}&amp;size={size}&amp;type={type}
<span class="token header"><span class="token header-name keyword">Authorization</span><span class="token punctuation">:</span> <span class="token header-value">Bearer {jwt_token}</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>参数</strong>:</p><ul><li><code>page</code>: 页码 (从0开始，默认: 0)</li><li><code>size</code>: 每页大小 (默认: 20)</li><li><code>type</code>: BUY|SELL (可选)</li></ul><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;trades&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;tradeId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;trade_123456789&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;stockCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;stockName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;tradeType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BUY&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
        <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">11400.00</span><span class="token punctuation">,</span>
        <span class="token property">&quot;commission&quot;</span><span class="token operator">:</span> <span class="token number">3.42</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;COMPLETED&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;tradeTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17T15:30:00Z&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pagination&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;page&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
      <span class="token property">&quot;totalPages&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="📊-市场数据服务-market-data-service" tabindex="-1"><a class="header-anchor" href="#📊-市场数据服务-market-data-service" aria-hidden="true">#</a> 📊 市场数据服务 (market-data-service)</h2><h3 id="数据获取" tabindex="-1"><a class="header-anchor" href="#数据获取" aria-hidden="true">#</a> 数据获取</h3><h4 id="_1-获取实时股价" tabindex="-1"><a class="header-anchor" href="#_1-获取实时股价" aria-hidden="true">#</a> 1. 获取实时股价</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/stocks/{code}/latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>示例</strong>: <code>GET /api/stocks/000001.SZ/latest</code></p><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
  <span class="token property">&quot;change&quot;</span><span class="token operator">:</span> <span class="token number">0.06</span><span class="token punctuation">,</span>
  <span class="token property">&quot;change_pct&quot;</span><span class="token operator">:</span> <span class="token number">0.53</span><span class="token punctuation">,</span>
  <span class="token property">&quot;volume&quot;</span><span class="token operator">:</span> <span class="token number">12847500</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">146543000.00</span><span class="token punctuation">,</span>
  <span class="token property">&quot;open&quot;</span><span class="token operator">:</span> <span class="token number">11.33</span><span class="token punctuation">,</span>
  <span class="token property">&quot;high&quot;</span><span class="token operator">:</span> <span class="token number">11.41</span><span class="token punctuation">,</span>
  <span class="token property">&quot;low&quot;</span><span class="token operator">:</span> <span class="token number">11.27</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pre_close&quot;</span><span class="token operator">:</span> <span class="token number">11.34</span><span class="token punctuation">,</span>
  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17 15:00:00&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-获取k线数据" tabindex="-1"><a class="header-anchor" href="#_2-获取k线数据" aria-hidden="true">#</a> 2. 获取K线数据</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/stocks/{code}/history?days={days}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;open&quot;</span><span class="token operator">:</span> <span class="token number">11.33</span><span class="token punctuation">,</span>
      <span class="token property">&quot;high&quot;</span><span class="token operator">:</span> <span class="token number">11.41</span><span class="token punctuation">,</span>
      <span class="token property">&quot;low&quot;</span><span class="token operator">:</span> <span class="token number">11.27</span><span class="token punctuation">,</span>
      <span class="token property">&quot;close&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
      <span class="token property">&quot;volume&quot;</span><span class="token operator">:</span> <span class="token number">12847500</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-搜索股票" tabindex="-1"><a class="header-anchor" href="#_3-搜索股票" aria-hidden="true">#</a> 3. 搜索股票</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/search?q={keyword}&amp;limit={limit}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>参数</strong>:</p><ul><li><code>q</code>: 搜索关键词 (股票代码或名称)</li><li><code>limit</code>: 结果数量限制 (默认: 10)</li></ul><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;results&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;深圳&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;600036.SH&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;招商银行&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;上海&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="🎮-模拟交易服务-mock-trading-service" tabindex="-1"><a class="header-anchor" href="#🎮-模拟交易服务-mock-trading-service" aria-hidden="true">#</a> 🎮 模拟交易服务 (mock-trading-service)</h2><h3 id="账户管理-1" tabindex="-1"><a class="header-anchor" href="#账户管理-1" aria-hidden="true">#</a> 账户管理</h3><h4 id="_1-用户注册-1" tabindex="-1"><a class="header-anchor" href="#_1-用户注册-1" aria-hidden="true">#</a> 1. 用户注册</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST /api/register
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token application-json">
<span class="token punctuation">{</span>
  <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;testuser&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test@example.com&quot;</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;账户创建成功！&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;acc_12345&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;testuser&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;initial_balance&quot;</span><span class="token operator">:</span> <span class="token number">1000000.00</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-获取账户信息-1" tabindex="-1"><a class="header-anchor" href="#_2-获取账户信息-1" aria-hidden="true">#</a> 2. 获取账户信息</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/account/{account_id}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;account_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;acc_12345&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;testuser&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token number">980000.00</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_assets&quot;</span><span class="token operator">:</span> <span class="token number">1015000.00</span><span class="token punctuation">,</span>
  <span class="token property">&quot;market_value&quot;</span><span class="token operator">:</span> <span class="token number">35000.00</span><span class="token punctuation">,</span>
  <span class="token property">&quot;position_count&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;positions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;stock_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;stock_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
      <span class="token property">&quot;avg_cost&quot;</span><span class="token operator">:</span> <span class="token number">11.20</span><span class="token punctuation">,</span>
      <span class="token property">&quot;current_price&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
      <span class="token property">&quot;market_value&quot;</span><span class="token operator">:</span> <span class="token number">11400.00</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profit_loss&quot;</span><span class="token operator">:</span> <span class="token number">200.00</span><span class="token punctuation">,</span>
      <span class="token property">&quot;profit_loss_pct&quot;</span><span class="token operator">:</span> <span class="token number">1.79</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="交易操作-1" tabindex="-1"><a class="header-anchor" href="#交易操作-1" aria-hidden="true">#</a> 交易操作</h3><h4 id="_3-执行交易-1" tabindex="-1"><a class="header-anchor" href="#_3-执行交易-1" aria-hidden="true">#</a> 3. 执行交易</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST /api/trade
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token application-json">
<span class="token punctuation">{</span>
  <span class="token property">&quot;account_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;acc_12345&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stock_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">1000</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;买入成功！&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;trade_67890&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;acc_12345&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stock_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">11400.00</span><span class="token punctuation">,</span>
  <span class="token property">&quot;commission&quot;</span><span class="token operator">:</span> <span class="token number">3.42</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17 15:30:00&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-获取交易历史-1" tabindex="-1"><a class="header-anchor" href="#_4-获取交易历史-1" aria-hidden="true">#</a> 4. 获取交易历史</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/trades/{account_id}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;trades&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;trade_67890&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;stock_code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;stock_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;trade_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">11400.00</span><span class="token punctuation">,</span>
      <span class="token property">&quot;commission&quot;</span><span class="token operator">:</span> <span class="token number">3.42</span><span class="token punctuation">,</span>
      <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;completed&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;trade_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17 15:30:00&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-获取市场数据" tabindex="-1"><a class="header-anchor" href="#_5-获取市场数据" aria-hidden="true">#</a> 5. 获取市场数据</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/market/{stock_code}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;平安银行&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
  <span class="token property">&quot;change&quot;</span><span class="token operator">:</span> <span class="token number">0.06</span><span class="token punctuation">,</span>
  <span class="token property">&quot;change_pct&quot;</span><span class="token operator">:</span> <span class="token number">0.53</span><span class="token punctuation">,</span>
  <span class="token property">&quot;volume&quot;</span><span class="token operator">:</span> <span class="token number">12847500</span><span class="token punctuation">,</span>
  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17 15:00:00&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="🔒-认证与授权" tabindex="-1"><a class="header-anchor" href="#🔒-认证与授权" aria-hidden="true">#</a> 🔒 认证与授权</h2><h3 id="jwt-token" tabindex="-1"><a class="header-anchor" href="#jwt-token" aria-hidden="true">#</a> JWT Token</h3><p>所有需要认证的接口都需要在请求头中携带JWT Token：</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Authorization</span><span class="token punctuation">:</span> <span class="token header-value">Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="token-刷新" tabindex="-1"><a class="header-anchor" href="#token-刷新" aria-hidden="true">#</a> Token 刷新</h3><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST /api/v1/auth/refresh
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
<span class="token application-json">
<span class="token punctuation">{</span>
  <span class="token property">&quot;refreshToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;refresh_token_here&quot;</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>响应</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;new_jwt_token_here&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiresAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-18T15:30:00Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="🛡️-错误处理" tabindex="-1"><a class="header-anchor" href="#🛡️-错误处理" aria-hidden="true">#</a> 🛡️ 错误处理</h2><h3 id="常见错误码" tabindex="-1"><a class="header-anchor" href="#常见错误码" aria-hidden="true">#</a> 常见错误码</h3><table><thead><tr><th>错误码</th><th>含义</th><th>处理建议</th></tr></thead><tbody><tr><td>1001</td><td>用户名已存在</td><td>更换用户名</td></tr><tr><td>1002</td><td>邮箱已存在</td><td>更换邮箱或找回密码</td></tr><tr><td>1003</td><td>用户名或密码错误</td><td>检查登录信息</td></tr><tr><td>1004</td><td>Token已过期</td><td>重新登录或刷新Token</td></tr><tr><td>1005</td><td>权限不足</td><td>联系管理员</td></tr><tr><td>2001</td><td>股票代码不存在</td><td>检查股票代码格式</td></tr><tr><td>2002</td><td>市场数据暂时不可用</td><td>稍后重试</td></tr><tr><td>3001</td><td>账户余额不足</td><td>减少交易数量</td></tr><tr><td>3002</td><td>持仓数量不足</td><td>检查可卖数量</td></tr><tr><td>3003</td><td>交易时间段不正确</td><td>等待开市时间</td></tr><tr><td>5000</td><td>服务内部错误</td><td>联系技术支持</td></tr></tbody></table><h3 id="错误响应示例" tabindex="-1"><a class="header-anchor" href="#错误响应示例" aria-hidden="true">#</a> 错误响应示例</h3><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;账户余额不足&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;当前余额: ¥5000.00，需要: ¥11403.42&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">3001</span><span class="token punctuation">,</span>
  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-17T15:30:00Z&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/v1/trades&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="📋-api测试" tabindex="-1"><a class="header-anchor" href="#📋-api测试" aria-hidden="true">#</a> 📋 API测试</h2><h3 id="postman集合" tabindex="-1"><a class="header-anchor" href="#postman集合" aria-hidden="true">#</a> Postman集合</h3><p>推荐使用以下测试环境变量：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;base_url_user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:8081/user-service/api/v1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;base_url_stock&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:8082/stock-service/api/v1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;base_url_trading&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:8083/trading-service/api/v1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;base_url_market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:5001/api&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;base_url_mock&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:5002/api&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;jwt_token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="测试流程" tabindex="-1"><a class="header-anchor" href="#测试流程" aria-hidden="true">#</a> 测试流程</h3><ol><li><strong>用户注册</strong> → 获取userId</li><li><strong>用户登录</strong> → 获取JWT Token</li><li><strong>创建交易账户</strong> → 获取accountId</li><li><strong>查询股票价格</strong> → 获取实时价格</li><li><strong>执行买入交易</strong> → 测试交易功能</li><li><strong>查看账户状态</strong> → 验证交易结果</li><li><strong>查看交易历史</strong> → 确认记录完整</li></ol><hr><p><em>最后更新: 2025-10-17</em><em>API版本: v1.0</em></p>`,152),o=[p];function r(l,i){return n(),a("div",null,o)}const u=s(e,[["render",r],["__file","API_SPECIFICATIONS.html.vue"]]);export{u as default};
