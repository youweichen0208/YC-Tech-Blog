const e=JSON.parse('{"key":"v-39f9d310","path":"/quant-platform/MONITORING.html","title":"量化交易平台监控运维指南","lang":"en-US","frontmatter":{"description":"量化交易平台监控运维指南 📊 概述 本文档详细介绍量化交易平台的监控体系部署、配置和运维，包括 Prometheus、Grafana 和 Loki 的完整配置流程和常见问题排查。 🏗️ 监控架构 graph TB subgraph \\"微服务层\\" SCHED[Scheduler Service&lt;br/&gt;:8085] STOCK[Stock Service&lt;br/&gt;:8082] TRADE[Trading Service&lt;br/&gt;:8083] end subgraph \\"监控层 (Docker)\\" PROM[Prometheus&lt;br/&gt;:9091&lt;br/&gt;指标采集] GRAF[Grafana&lt;br/&gt;:3001&lt;br/&gt;可视化] LOKI[Loki&lt;br/&gt;:3100&lt;br/&gt;日志聚合] end SCHED --&gt;|/actuator/prometheus| PROM STOCK --&gt;|/actuator/prometheus| PROM TRADE --&gt;|/actuator/prometheus| PROM PROM --&gt; GRAF LOKI --&gt; GRAF SCHED -.-&gt;|日志| LOKI STOCK -.-&gt;|日志| LOKI TRADE -.-&gt;|日志| LOKI","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/YC-Tech-Blog/quant-platform/MONITORING.html"}],["meta",{"property":"og:site_name","content":"YC Tech Blog"}],["meta",{"property":"og:title","content":"量化交易平台监控运维指南"}],["meta",{"property":"og:description","content":"量化交易平台监控运维指南 📊 概述 本文档详细介绍量化交易平台的监控体系部署、配置和运维，包括 Prometheus、Grafana 和 Loki 的完整配置流程和常见问题排查。 🏗️ 监控架构 graph TB subgraph \\"微服务层\\" SCHED[Scheduler Service&lt;br/&gt;:8085] STOCK[Stock Service&lt;br/&gt;:8082] TRADE[Trading Service&lt;br/&gt;:8083] end subgraph \\"监控层 (Docker)\\" PROM[Prometheus&lt;br/&gt;:9091&lt;br/&gt;指标采集] GRAF[Grafana&lt;br/&gt;:3001&lt;br/&gt;可视化] LOKI[Loki&lt;br/&gt;:3100&lt;br/&gt;日志聚合] end SCHED --&gt;|/actuator/prometheus| PROM STOCK --&gt;|/actuator/prometheus| PROM TRADE --&gt;|/actuator/prometheus| PROM PROM --&gt; GRAF LOKI --&gt; GRAF SCHED -.-&gt;|日志| LOKI STOCK -.-&gt;|日志| LOKI TRADE -.-&gt;|日志| LOKI"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-10-26T00:52:30.000Z"}],["meta",{"property":"article:author","content":"Youwei Chen"}],["meta",{"property":"article:modified_time","content":"2025-10-26T00:52:30.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"量化交易平台监控运维指南\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-10-26T00:52:30.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Youwei Chen\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"📊 概述","slug":"📊-概述","link":"#📊-概述","children":[]},{"level":2,"title":"🏗️ 监控架构","slug":"🏗️-监控架构","link":"#🏗️-监控架构","children":[{"level":3,"title":"监控组件","slug":"监控组件","link":"#监控组件","children":[]}]},{"level":2,"title":"🚀 快速启动","slug":"🚀-快速启动","link":"#🚀-快速启动","children":[{"level":3,"title":"前置条件","slug":"前置条件","link":"#前置条件","children":[]},{"level":3,"title":"方法1：使用启动脚本（推荐）","slug":"方法1-使用启动脚本-推荐","link":"#方法1-使用启动脚本-推荐","children":[]},{"level":3,"title":"方法2：手动启动","slug":"方法2-手动启动","link":"#方法2-手动启动","children":[]},{"level":3,"title":"验证启动","slug":"验证启动","link":"#验证启动","children":[]}]},{"level":2,"title":"⚙️ 配置详解","slug":"⚙️-配置详解","link":"#⚙️-配置详解","children":[{"level":3,"title":"1. Prometheus 配置","slug":"_1-prometheus-配置","link":"#_1-prometheus-配置","children":[]},{"level":3,"title":"2. Grafana 配置","slug":"_2-grafana-配置","link":"#_2-grafana-配置","children":[]},{"level":3,"title":"3. Docker Compose 配置","slug":"_3-docker-compose-配置","link":"#_3-docker-compose-配置","children":[]}]},{"level":2,"title":"🔍 使用指南","slug":"🔍-使用指南","link":"#🔍-使用指南","children":[{"level":3,"title":"Prometheus 查询","slug":"prometheus-查询","link":"#prometheus-查询","children":[]},{"level":3,"title":"Grafana Dashboard","slug":"grafana-dashboard","link":"#grafana-dashboard","children":[]}]},{"level":2,"title":"🐛 故障排查","slug":"🐛-故障排查","link":"#🐛-故障排查","children":[{"level":3,"title":"问题1：端口冲突（9090 被占用）","slug":"问题1-端口冲突-9090-被占用","link":"#问题1-端口冲突-9090-被占用","children":[]},{"level":3,"title":"问题2：Prometheus 无法采集指标","slug":"问题2-prometheus-无法采集指标","link":"#问题2-prometheus-无法采集指标","children":[]},{"level":3,"title":"问题3：Grafana Dashboard 显示 \\"No data\\"","slug":"问题3-grafana-dashboard-显示-no-data","link":"#问题3-grafana-dashboard-显示-no-data","children":[]},{"level":3,"title":"问题4：PromQL 语法错误","slug":"问题4-promql-语法错误","link":"#问题4-promql-语法错误","children":[]},{"level":3,"title":"问题5：Dashboard 自动加载失败","slug":"问题5-dashboard-自动加载失败","link":"#问题5-dashboard-自动加载失败","children":[]}]},{"level":2,"title":"📊 监控最佳实践","slug":"📊-监控最佳实践","link":"#📊-监控最佳实践","children":[{"level":3,"title":"1. 告警配置建议","slug":"_1-告警配置建议","link":"#_1-告警配置建议","children":[]},{"level":3,"title":"2. 数据保留策略","slug":"_2-数据保留策略","link":"#_2-数据保留策略","children":[]},{"level":3,"title":"3. 性能优化","slug":"_3-性能优化","link":"#_3-性能优化","children":[]},{"level":3,"title":"4. 安全建议","slug":"_4-安全建议","link":"#_4-安全建议","children":[]}]},{"level":2,"title":"🧪 测试监控系统","slug":"🧪-测试监控系统","link":"#🧪-测试监控系统","children":[]},{"level":2,"title":"🔄 日常运维操作","slug":"🔄-日常运维操作","link":"#🔄-日常运维操作","children":[{"level":3,"title":"启动监控栈","slug":"启动监控栈","link":"#启动监控栈","children":[]},{"level":3,"title":"停止监控栈","slug":"停止监控栈","link":"#停止监控栈","children":[]},{"level":3,"title":"重启某个服务","slug":"重启某个服务","link":"#重启某个服务","children":[]},{"level":3,"title":"查看日志","slug":"查看日志","link":"#查看日志","children":[]},{"level":3,"title":"清理数据","slug":"清理数据","link":"#清理数据","children":[]},{"level":3,"title":"更新配置","slug":"更新配置","link":"#更新配置","children":[]}]},{"level":2,"title":"📚 相关文档","slug":"📚-相关文档","link":"#📚-相关文档","children":[]},{"level":2,"title":"🔗 快速访问","slug":"🔗-快速访问","link":"#🔗-快速访问","children":[]},{"level":2,"title":"💡 常见问题 FAQ","slug":"💡-常见问题-faq","link":"#💡-常见问题-faq","children":[{"level":3,"title":"Q1: 为什么 Prometheus 端口是 9091 而不是默认的 9090？","slug":"q1-为什么-prometheus-端口是-9091-而不是默认的-9090","link":"#q1-为什么-prometheus-端口是-9091-而不是默认的-9090","children":[]},{"level":3,"title":"Q2: 如何添加新的监控服务？","slug":"q2-如何添加新的监控服务","link":"#q2-如何添加新的监控服务","children":[]},{"level":3,"title":"Q3: Dashboard 数据不刷新怎么办？","slug":"q3-dashboard-数据不刷新怎么办","link":"#q3-dashboard-数据不刷新怎么办","children":[]},{"level":3,"title":"Q4: 如何导出 Grafana Dashboard？","slug":"q4-如何导出-grafana-dashboard","link":"#q4-如何导出-grafana-dashboard","children":[]},{"level":3,"title":"Q5: Prometheus 数据占用空间太大怎么办？","slug":"q5-prometheus-数据占用空间太大怎么办","link":"#q5-prometheus-数据占用空间太大怎么办","children":[]}]}],"git":{"createdTime":1761439950000,"updatedTime":1761439950000,"contributors":[{"name":"Youwei Chen","email":"youweichen0208@gmail.com","commits":1}]},"readingTime":{"minutes":8.32,"words":2496},"filePathRelative":"quant-platform/MONITORING.md","localizedDate":"October 26, 2025","excerpt":"<h1> 量化交易平台监控运维指南</h1>\\n<h2> 📊 概述</h2>\\n<p>本文档详细介绍量化交易平台的监控体系部署、配置和运维，包括 Prometheus、Grafana 和 Loki 的完整配置流程和常见问题排查。</p>\\n<h2> 🏗️ 监控架构</h2>\\n<div class=\\"language-mermaid line-numbers-mode\\" data-ext=\\"mermaid\\"><pre class=\\"language-mermaid\\"><code><span class=\\"token keyword\\">graph</span> TB\\n    <span class=\\"token keyword\\">subgraph</span> <span class=\\"token string\\">\\"微服务层\\"</span>\\n        SCHED<span class=\\"token text string\\">[Scheduler Service&lt;br/&gt;:8085]</span>\\n        STOCK<span class=\\"token text string\\">[Stock Service&lt;br/&gt;:8082]</span>\\n        TRADE<span class=\\"token text string\\">[Trading Service&lt;br/&gt;:8083]</span>\\n    <span class=\\"token keyword\\">end</span>\\n\\n    <span class=\\"token keyword\\">subgraph</span> <span class=\\"token string\\">\\"监控层 (Docker)\\"</span>\\n        PROM<span class=\\"token text string\\">[Prometheus&lt;br/&gt;:9091&lt;br/&gt;指标采集]</span>\\n        GRAF<span class=\\"token text string\\">[Grafana&lt;br/&gt;:3001&lt;br/&gt;可视化]</span>\\n        LOKI<span class=\\"token text string\\">[Loki&lt;br/&gt;:3100&lt;br/&gt;日志聚合]</span>\\n    <span class=\\"token keyword\\">end</span>\\n\\n    SCHED <span class=\\"token arrow operator\\">--&gt;</span><span class=\\"token label property\\">|/actuator/prometheus|</span> PROM\\n    STOCK <span class=\\"token arrow operator\\">--&gt;</span><span class=\\"token label property\\">|/actuator/prometheus|</span> PROM\\n    TRADE <span class=\\"token arrow operator\\">--&gt;</span><span class=\\"token label property\\">|/actuator/prometheus|</span> PROM\\n\\n    PROM <span class=\\"token arrow operator\\">--&gt;</span> GRAF\\n    LOKI <span class=\\"token arrow operator\\">--&gt;</span> GRAF\\n\\n    SCHED <span class=\\"token arrow operator\\">-.-&gt;</span><span class=\\"token label property\\">|日志|</span> LOKI\\n    STOCK <span class=\\"token arrow operator\\">-.-&gt;</span><span class=\\"token label property\\">|日志|</span> LOKI\\n    TRADE <span class=\\"token arrow operator\\">-.-&gt;</span><span class=\\"token label property\\">|日志|</span> LOKI\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{e as data};
