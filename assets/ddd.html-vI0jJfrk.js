import{_ as n,o as a,c as e,e as s}from"./app-cUleNHhJ.js";const t="/assets/images/simplified-ddd-image.png",i="/assets/images/domain-driven-design-microservice.png",o="/assets/images/ordering-microservice-container.png",c="/assets/images/vs-solution-explorer-order-aggregate.png",l="/assets/images/value-object-within-aggregate.png",p={},r=s('<h1 id="ddd-domain-driven-design" tabindex="-1"><a class="header-anchor" href="#ddd-domain-driven-design" aria-hidden="true">#</a> DDD(Domain Driven Design)</h1><h2 id="cqrs-command-query-responsibility-segregation" tabindex="-1"><a class="header-anchor" href="#cqrs-command-query-responsibility-segregation" aria-hidden="true">#</a> CQRS(command query responsibility segregation)</h2><p>The fundamental idea is that we should divide an object&#39;s methods into two sharply separated categories:</p><ol><li><code>Queries</code>: return a result and do not change the observable state of the system(are free of side effects).</li><li><code>Commands</code>: change the state of a system but do not return a value.</li></ol><h3 id="why-separating-methods-that-change-state-modifiers-commands-from-those-that-don-t-queries-is-so-valuable-in-practice" tabindex="-1"><a class="header-anchor" href="#why-separating-methods-that-change-state-modifiers-commands-from-those-that-don-t-queries-is-so-valuable-in-practice" aria-hidden="true">#</a> why separating methods that change state (modifiers/commands) from those that don&#39;t (queries) is so valuable in practice:</h3><ol><li><code>Predictability and Debugging</code>:</li></ol><ul><li>Query methods are &quot;safe&quot; - we can call them multiple times or in any order without side effects.</li><li>If something goes wrong, we know how to focus on the modifier methods first, since queries can&#39;t be the cause of state-related bugs.</li></ul><ol start="2"><li><code>Testing and Maintenance</code>:</li></ol><ul><li>Queries are easier to test since we just need to verify return values.</li><li>Modifiers require testing state changes and potential side effects.</li></ul><ol start="3"><li><code>Parallelization and Caching</code>:</li></ol><ul><li>Query results can be safely cached.</li><li>Multiple queries can run in parallel without lock coordination.</li><li>Modifiers need careful synchronization to avoid race conditions.</li></ul><ol start="4"><li><code>Database Separation</code>: <ol><li>Commands(Modifiers) on the Main Database: <ul><li>Modifiers are responsible for changing the state of the system, such as creating, updating, or deleting records in the database. Since these operations can affect the integrity and consistency of the data, they need to be directed to the main database where the data is authoritative and can be modified.</li><li>By ensuring that <code>commands</code> always go to the master database, we can maintain consistency and ensure the state is updated correctly. Thisalso allows proper handling of transactions, which is often required for modifying data.</li></ul></li><li>Queries on Read Replicas: <ul><li><code>Queries</code> on the other hand <code>only read data</code> without modifying it. These operations can be safely executed on read replicas because they don&#39;t change the data&#39;s state. Since replicas are usually eventually consistent, they can serve read requests without the risk of disrupting data consistency.</li><li>Using replcias for queries offloads work from the main database, allowing it to focus on write-heavy operations. This improves <code>performance</code>, <code>scalability</code>, and <code>availability</code>.</li></ul></li><li>Consistency and Data Integrity: <ul><li>When <code>modifiers</code> are directed to the <code>main database</code>, we ensure that write operations are consistent and properly synchronized, and that <code>transactional integrity</code> is maintained.</li><li>On the other hand, queries are less critical in terms of consistency, since they do not affect the data, and read replicas can serve slightly outdated data, without compromising overall system reliability.</li></ul></li></ol></li></ol><h2 id="applying-simplified-cqrs-and-ddd-patterns-in-a-microservice" tabindex="-1"><a class="header-anchor" href="#applying-simplified-cqrs-and-ddd-patterns-in-a-microservice" aria-hidden="true">#</a> Applying simplified CQRS and DDD patterns in a microservice</h2><p>The separation aspect of CQRS is achieved by grouping query operations in one layer and commands in another layer. Each layer has its own data model. Each layer has its own data model(note that we say model, not necessarily a different database) and is built using its own combination of patterns and technologies. More importantly, the two layers can be within the same tier or microservice. Or they can be optimized and scaled out separately without affecting one another.</p><figure><img src="'+t+'" alt="Simplified CQRS and DDD microservice" tabindex="0" loading="lazy"><figcaption>Simplified CQRS and DDD microservice</figcaption></figure><p>The important design aspect here is that the microservice has split the queries and ViewModels(data models especially created for the client applications) from the commands, domain model, and transactions following the CQRS pattern.</p><h2 id="design-a-ddd-oriented-microservice" tabindex="-1"><a class="header-anchor" href="#design-a-ddd-oriented-microservice" aria-hidden="true">#</a> Design a DDD-oriented microservice</h2><p>DDD descibes independent problem areas as Bounded Contexts(each Bounded Context correlates to a microservice). Where to draw the boundaries is the key task when designing and refining a microservice. DDD patterns help us understand the complexity in the domain. For the domain model for each Bounded Context, we identify and define the entities, value objects, and aggregates that model our domain. We build a domain model that is contained within a boundary that defines our context.</p><p>Determing where to place boundaries between Bounded Contexts balances two competing goals. Our services should handle all responsibilities related to our domain internally. But we should also ensure that communication between different bounded contexts is kept to a minimum. Too many cross-service communication introduces <code>complexity</code>, <code>latency</code>, and <code>failture risks</code>.</p><figure><img src="'+i+'" alt="Layers in a Domain-Driven Design Microservice" tabindex="0" loading="lazy"><figcaption>Layers in a Domain-Driven Design Microservice</figcaption></figure><p>Each layer is a VS project. Application layer is Ordering.API, Domain layer is Ordering.Domain and the Infrastructure layer is Ordering.Infrastructure.</p><h2 id="design-a-microservice-domain-model" tabindex="-1"><a class="header-anchor" href="#design-a-microservice-domain-model" aria-hidden="true">#</a> Design a microservice domain model</h2><h3 id="domain-model-structure-in-a-custom-net-standard-library" tabindex="-1"><a class="header-anchor" href="#domain-model-structure-in-a-custom-net-standard-library" aria-hidden="true">#</a> Domain model structure in a custom .NET Standard Library</h3><figure><img src="'+o+'" alt="Ordering Microservice Domain Model" tabindex="0" loading="lazy"><figcaption>Ordering Microservice Domain Model</figcaption></figure><p>As we can see, in the domain model, there are two aggregates: the order aggregate and the buyer aggregate. Each aggregate is a group of domain entities and value objects, although we could have an aggregate compsoed of a single domain entity(the aggregate root or root entity).</p><h3 id="structure-aggregates-in-a-custom-net-standard-library" tabindex="-1"><a class="header-anchor" href="#structure-aggregates-in-a-custom-net-standard-library" aria-hidden="true">#</a> Structure aggregates in a custom .NET Standard library</h3><p>An aggregate refers to a cluster of domain objects grouped together to match transactional consistency. Those objects could be instances of entities. Transactional consistency means that an aggregate is guaranteed to be consistent and up to date at the end of a business action. <img src="'+c+'" alt="Order Aggregate" loading="lazy"></p><h3 id="value-object-within-aggregate" tabindex="-1"><a class="header-anchor" href="#value-object-within-aggregate" aria-hidden="true">#</a> Value Object within Aggregate</h3><figure><img src="'+l+`" alt="Value Object within Aggregate" tabindex="0" loading="lazy"><figcaption>Value Object within Aggregate</figcaption></figure><p>As we can see, the attribute <code>address</code> is simply a complex-value composed of country/region, street, city, etc., and has no identity in this domain, must be modeled and treated as a value object.</p><h4 id="important-characteristics-of-value-objects" tabindex="-1"><a class="header-anchor" href="#important-characteristics-of-value-objects" aria-hidden="true">#</a> Important Characteristics of Value Objects:</h4><ul><li>They have no identity.</li><li>They are immutable.</li></ul><p>The values of a value object <code>MUST BE</code> immutable once the object is created. Therefore, when the object is created, we must provide the required values, but we must not allow them to change during the object&#39;s lifetime.</p><p>Value objects allow us to perform certain tricks for performance. This is especially true in systems where there may be thousands of value object instances, many of which have the same values. Their immutable nature allows them to be reused; they can be interchangeable objects, since their values are the same and they have no identity. This type of optimization can sometimes make a difference between software that runs slowly and software with good performance.</p><h2 id="domain-events" tabindex="-1"><a class="header-anchor" href="#domain-events" aria-hidden="true">#</a> Domain events</h2><ol><li><code>Purpose</code>: Domain events represent something meaningful that happened within our domain/business logic(e.g., &quot;OrderPlaced&quot;, &quot;PaymentReceived&quot;)</li><li><code>Scope</code>: Usually handled within the same bounded context or application</li><li><code>Timing</code>: Typically synchronous and immediate within the application</li><li><code>State</code>: Immutable, representing a fact that happened at a specific point in time.</li><li><code>Usage</code>: Often used for maintaining consistency within a bounded context and updateing different parts of our application.</li></ol><h2 id="mediatr-in-c-to-achieve-crrs" tabindex="-1"><a class="header-anchor" href="#mediatr-in-c-to-achieve-crrs" aria-hidden="true">#</a> MediatR in C# to achieve CRRS</h2><p><code>MediatR</code> is a popular open-source library for .NET designed to simplify and decouple the communication between different parts of an application. It implements the <code>Mediator</code> design pattern, which is useful for managing complex communication by providing a centralized way to send messages, commands, or queries between objects.</p><h3 id="irequest-tresponse" tabindex="-1"><a class="header-anchor" href="#irequest-tresponse" aria-hidden="true">#</a> <code>IRequest&lt;TResponse&gt;</code></h3><p>In MediaR, the <code>IRequest&lt;TResponse&gt;</code> interface is used to represent a request for data or an action, and the <code>TResponse</code> type indicates the type of the expected response. When a class implements <code>IRequest&lt;TResponse&gt;</code>, it is essentially marking that class as a <code>request</code> that will be handled by a corresponding <code>handler</code>. The <code>handler</code> is therefore responsible for executing the logic associated with the request and returning a response of type <code>TResponse</code>.</p><h3 id="pipeline-behavior-in-cqrs" tabindex="-1"><a class="header-anchor" href="#pipeline-behavior-in-cqrs" aria-hidden="true">#</a> Pipeline Behavior in CQRS</h3><p>In MediatR, <code>Pipeline Behaviors</code> are a powerful feature that allows us to insert custom logic into the processing pipeline of requests(commands, queries, etc). They sit between the request being sent and the request handler, allowing us to modify or inpsect the request, response, or behavior of the system during the request&#39;s processing.</p><h3 id="queries-commands-in-mediatr" tabindex="-1"><a class="header-anchor" href="#queries-commands-in-mediatr" aria-hidden="true">#</a> Queries&amp;Commands in MediatR:</h3><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetUserQuery</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IRequest<span class="token punctuation">&lt;</span>User<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> UserId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this example:</p><ul><li><p><code>GetUserQuery</code> class:</p><ul><li>This class represents a query(request for data) to get a user</li><li><code>UserId</code> can be considered as the parameters that will be encapsulated into the query</li></ul></li><li><p><code>IRequest&lt;User&gt;</code>:</p><ul><li>The <code>IRequest&lt;TResponse&gt;</code> interface indicates that this query expects a <code>response of type User</code> when processed.</li><li>In this case, <code>TResponse</code> is the <code>User</code>, meaning the result of executing this query should be a <code>User</code> object.</li></ul><h3 id="handler-in-queries" tabindex="-1"><a class="header-anchor" href="#handler-in-queries" aria-hidden="true">#</a> Handler in Queries</h3><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetUserQueryHandler</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IRequestHandler<span class="token punctuation">&lt;</span>GetUserQuery<span class="token punctuation">,</span> User<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token comment">// Example constructor injection for database service, if needed</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">IUserRepository</span> _userRepository<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">GetUserQueryHandler</span><span class="token punctuation">(</span><span class="token class-name">IUserRepository</span> userRepository<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _userRepository <span class="token operator">=</span> userRepository<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>User<span class="token punctuation">&gt;</span></span> <span class="token function">Handle</span><span class="token punctuation">(</span><span class="token class-name">GetUserQuery</span> request<span class="token punctuation">,</span> <span class="token class-name">CancellationToken</span> cancellationToken<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Logic to fetch user from database or another data source using UserId</span>
        <span class="token class-name"><span class="token keyword">var</span></span> user <span class="token operator">=</span> <span class="token keyword">await</span> _userRepository<span class="token punctuation">.</span><span class="token function">GetUserByIdAsync</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>UserId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Return the user object</span>
        <span class="token keyword">return</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this example, <code>IRequestHandler&lt;GetUserQuery, User&gt;</code> tells the handler to handle the <code>GetUserQuery</code> query and returns <code>User</code> as the result. <strong>SAME RULE APPLIES TO THE COMMANDS AND COMMAND HANDLERS</strong></p><h3 id="a-validation-behavior-in-cqrs" tabindex="-1"><a class="header-anchor" href="#a-validation-behavior-in-cqrs" aria-hidden="true">#</a> A Validation Behavior in CQRS</h3><p>By using a <code>pipeline behavior</code> in MediatR, we can ensure that commands and queries are validated before they are handled, providing a clean separation of concerns and keeping the business logic in the right places.</p><ol><li><p>Define the Validator for the Command: Define a <code>FluentValidation</code> validator to ensure the command&#39;s data is valid before it reaches the handler:</p><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>       <span class="token comment">// Validators/User/Validators/CreateUserCommandValidator.cs</span>
   <span class="token keyword">using</span> <span class="token namespace">FluentValidation</span><span class="token punctuation">;</span>

   <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateUserCommandValidator</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AbstractValidator<span class="token punctuation">&lt;</span>CreateUserCommand<span class="token punctuation">&gt;</span></span></span>
   <span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token function">CreateUserCommandValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
           <span class="token function">RuleFor</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">NotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithMessage</span><span class="token punctuation">(</span><span class="token string">&quot;Name is required.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token function">RuleFor</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Email<span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">NotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithMessage</span><span class="token punctuation">(</span><span class="token string">&quot;Email is required.&quot;</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">EmailAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithMessage</span><span class="token punctuation">(</span><span class="token string">&quot;Invalid email format.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Create the Validation Behavior:</p></li></ol><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code>     <span class="token comment">// Behaviors/ValidationBehavior.cs</span>
   <span class="token keyword">using</span> <span class="token namespace">FluentValidation</span><span class="token punctuation">;</span>
   <span class="token keyword">using</span> <span class="token namespace">MediatR</span><span class="token punctuation">;</span>
   <span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span>
   <span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Linq</span><span class="token punctuation">;</span>
   <span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Threading</span><span class="token punctuation">;</span>
   <span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Threading<span class="token punctuation">.</span>Tasks</span><span class="token punctuation">;</span>
   <span class="token keyword">using</span> <span class="token namespace">Application<span class="token punctuation">.</span>Exceptions</span><span class="token punctuation">;</span>

   <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ValidationBehavior<span class="token punctuation">&lt;</span>TRequest<span class="token punctuation">,</span> TResponse<span class="token punctuation">&gt;</span></span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IPipelineBehavior<span class="token punctuation">&lt;</span>TRequest<span class="token punctuation">,</span> TResponse<span class="token punctuation">&gt;</span></span></span>
       <span class="token keyword">where</span> <span class="token class-name">TRequest</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IRequest<span class="token punctuation">&lt;</span>TResponse<span class="token punctuation">&gt;</span></span></span>
   <span class="token punctuation">{</span>
       <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>IValidator<span class="token punctuation">&lt;</span>TRequest<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> _validators<span class="token punctuation">;</span>

       <span class="token keyword">public</span> <span class="token function">ValidationBehavior</span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>IValidator<span class="token punctuation">&lt;</span>TRequest<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> validators<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
           _validators <span class="token operator">=</span> validators<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

       <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>TResponse<span class="token punctuation">&gt;</span></span> <span class="token function">Handle</span><span class="token punctuation">(</span><span class="token class-name">TRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">CancellationToken</span> cancellationToken<span class="token punctuation">,</span> <span class="token class-name">RequestHandlerDelegate<span class="token punctuation">&lt;</span>TResponse<span class="token punctuation">&gt;</span></span> next<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
           <span class="token class-name"><span class="token keyword">var</span></span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ValidationContext<span class="token punctuation">&lt;</span>TRequest<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token class-name"><span class="token keyword">var</span></span> failures <span class="token operator">=</span> _validators
               <span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span><span class="token function">Validate</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">SelectMany</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Errors<span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

           <span class="token keyword">if</span> <span class="token punctuation">(</span>failures<span class="token punctuation">.</span><span class="token function">Any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
           <span class="token punctuation">{</span>
               <span class="token comment">// You can throw custom exceptions for validation failure here</span>
               <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ValidationException</span><span class="token punctuation">(</span>failures<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>

           <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>IPipelineBehavior</code> is a MediatR interface that allow us to inject custom logic (like validation) into the request-handling pipeline.</li><li><code>Handle</code> intercepts the request, runs validation using the provided validators, and throws a <code>ValidationException</code> if any validation errors occur.</li><li>If no validation errors are found, it calls the next delegate in the pipeline(<code>next()</code>), which leads to the handler.</li></ul><ol start="3"><li>Register Dependencies in <code>Program.cs</code></li></ol></li></ul><h2 id="richer-domain-model" tabindex="-1"><a class="header-anchor" href="#richer-domain-model" aria-hidden="true">#</a> Richer Domain Model:</h2><p>A Rich Model is a design pattern where business logic is encapsulated within domain entities. These entities contain both data and behavior, ensuring business rules are enforced consisntently.</p>`,48),d=[r];function u(h,m){return a(),e("div",null,d)}const g=n(p,[["render",u],["__file","ddd.html.vue"]]);export{g as default};
