import{_ as e,r as p,o,c as i,a as n,b as s,d as t,e as c}from"./app-2H8C6pDE.js";const l={},u=c(`<h1 id="åŒå‡çº¿äº¤å‰ç­–ç•¥-å®Œæ•´å®ç°ä¸ä½¿ç”¨æŒ‡å—" tabindex="-1"><a class="header-anchor" href="#åŒå‡çº¿äº¤å‰ç­–ç•¥-å®Œæ•´å®ç°ä¸ä½¿ç”¨æŒ‡å—" aria-hidden="true">#</a> åŒå‡çº¿äº¤å‰ç­–ç•¥ - å®Œæ•´å®ç°ä¸ä½¿ç”¨æŒ‡å—</h1><h2 id="ğŸ“‹-ç›®å½•" tabindex="-1"><a class="header-anchor" href="#ğŸ“‹-ç›®å½•" aria-hidden="true">#</a> ğŸ“‹ ç›®å½•</h2><ol><li><a href="#%E5%8A%9F%E8%83%BD%E6%A6%82%E8%BF%B0">åŠŸèƒ½æ¦‚è¿°</a></li><li><a href="#%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84">æŠ€æœ¯æ¶æ„</a></li><li><a href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4">å®ç°æ­¥éª¤</a></li><li><a href="#%E4%BB%A3%E7%A0%81%E8%AF%A6%E8%A7%A3">ä»£ç è¯¦è§£</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97">ä½¿ç”¨æŒ‡å—</a></li><li><a href="#api%E6%96%87%E6%A1%A3">APIæ–‡æ¡£</a></li><li><a href="#%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5">æ•…éšœæ’æŸ¥</a></li></ol><hr><h2 id="åŠŸèƒ½æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#åŠŸèƒ½æ¦‚è¿°" aria-hidden="true">#</a> åŠŸèƒ½æ¦‚è¿°</h2><h3 id="ä»€ä¹ˆæ˜¯åŒå‡çº¿äº¤å‰ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯åŒå‡çº¿äº¤å‰ç­–ç•¥" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯åŒå‡çº¿äº¤å‰ç­–ç•¥ï¼Ÿ</h3><p>åŒå‡çº¿äº¤å‰ç­–ç•¥ï¼ˆMoving Average Crossover Strategyï¼‰æ˜¯æœ€ç»å…¸çš„æŠ€æœ¯åˆ†æç­–ç•¥ä¹‹ä¸€ï¼Œé€šè¿‡è§‚å¯ŸçŸ­æœŸå‡çº¿å’Œé•¿æœŸå‡çº¿çš„äº¤å‰æ¥åˆ¤æ–­ä¹°å–æ—¶æœºã€‚</p><h3 id="æ ¸å¿ƒåŸç†" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒåŸç†" aria-hidden="true">#</a> æ ¸å¿ƒåŸç†</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ğŸ“ˆ é‡‘å‰ï¼ˆGolden Crossï¼‰â†’ ä¹°å…¥ä¿¡å·
   æ¡ä»¶ï¼šçŸ­æœŸå‡çº¿å‘ä¸Šç©¿è¶Šé•¿æœŸå‡çº¿

   å‰ä¸€å¤©: MA5 &lt; MA20
   ä»Š   å¤©: MA5 &gt; MA20
   â†’ ç”Ÿæˆ BUY ä¿¡å·

ğŸ“‰ æ­»å‰ï¼ˆDeath Crossï¼‰â†’ å–å‡ºä¿¡å·
   æ¡ä»¶ï¼šçŸ­æœŸå‡çº¿å‘ä¸‹ç©¿è¶Šé•¿æœŸå‡çº¿

   å‰ä¸€å¤©: MA5 &gt; MA20
   ä»Š   å¤©: MA5 &lt; MA20
   â†’ ç”Ÿæˆ SELL ä¿¡å·

â¸ï¸ æ— äº¤å‰ â†’ æŒæœ‰
   æ¡ä»¶ï¼šå‡çº¿ä¿æŒåŸæœ‰ç›¸å¯¹ä½ç½®
   â†’ ç”Ÿæˆ HOLD ä¿¡å·
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é»˜è®¤å‚æ•°" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤å‚æ•°" aria-hidden="true">#</a> é»˜è®¤å‚æ•°</h3><ul><li><strong>çŸ­æœŸå‡çº¿</strong>: MA5ï¼ˆ5æ—¥ç§»åŠ¨å¹³å‡çº¿ï¼‰</li><li><strong>é•¿æœŸå‡çº¿</strong>: MA20ï¼ˆ20æ—¥ç§»åŠ¨å¹³å‡çº¿ï¼‰</li><li>å‚æ•°å¯è‡ªå®šä¹‰è°ƒæ•´</li></ul><hr><h2 id="æŠ€æœ¯æ¶æ„" tabindex="-1"><a class="header-anchor" href="#æŠ€æœ¯æ¶æ„" aria-hidden="true">#</a> æŠ€æœ¯æ¶æ„</h2><h3 id="ç³»ç»Ÿæ¶æ„å›¾" tabindex="-1"><a class="header-anchor" href="#ç³»ç»Ÿæ¶æ„å›¾" aria-hidden="true">#</a> ç³»ç»Ÿæ¶æ„å›¾</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å‰ç«¯ (Vue.js)                            â”‚
â”‚  http://localhost:3000/dashboard/strategy                   â”‚
â”‚  - ç­–ç•¥åˆ›å»ºç•Œé¢                                               â”‚
â”‚  - ä¿¡å·ç”ŸæˆæŒ‰é’®                                               â”‚
â”‚  - ä¿¡å·å†å²å±•ç¤º                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ HTTP REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          åç«¯ (Spring Boot) - trading-service               â”‚
â”‚              http://localhost:8083                           â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  StrategyController                                 â”‚    â”‚
â”‚  â”‚  /api/strategy/*                                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                       â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  StrategyService                                    â”‚    â”‚
â”‚  â”‚  - ç­–ç•¥ç®¡ç†                                          â”‚    â”‚
â”‚  â”‚  - ä¿¡å·ç”Ÿæˆ                                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚         â†“                            â†“                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ TradingStrategy       â”‚  â”‚ IndicatorCalculator  â”‚        â”‚
â”‚  â”‚ ç­–ç•¥æ¥å£        â”‚          â”‚ æŠ€æœ¯æŒ‡æ ‡è®¡ç®—         â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚         â†“                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  MovingAverageCrossStrategy                       â”‚      â”‚
â”‚  â”‚  åŒå‡çº¿äº¤å‰ç­–ç•¥å®ç°                                 â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                       â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  H2 Database (å†…å­˜æ•°æ®åº“)                            â”‚    â”‚
â”‚  â”‚  - strategies (ç­–ç•¥è¡¨)                              â”‚    â”‚
â”‚  â”‚  - strategy_signals (ä¿¡å·è¡¨)                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ ¸å¿ƒæ¨¡å—" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒæ¨¡å—" aria-hidden="true">#</a> æ ¸å¿ƒæ¨¡å—</h3><table><thead><tr><th>æ¨¡å—</th><th>æ–‡ä»¶</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><strong>æŠ€æœ¯æŒ‡æ ‡è®¡ç®—</strong></td><td><code>IndicatorCalculator.java</code></td><td>MAã€EMAã€MACDã€RSIã€BOLLè®¡ç®—</td></tr><tr><td><strong>ç­–ç•¥æ¥å£</strong></td><td><code>TradingStrategy.java</code></td><td>å®šä¹‰ç­–ç•¥æ ‡å‡†æ¥å£</td></tr><tr><td><strong>åŒå‡çº¿ç­–ç•¥</strong></td><td><code>MovingAverageCrossStrategy.java</code></td><td>å®ç°é‡‘å‰æ­»å‰åˆ¤æ–­é€»è¾‘</td></tr><tr><td><strong>ç­–ç•¥æœåŠ¡</strong></td><td><code>StrategyService.java</code></td><td>ç­–ç•¥ç®¡ç†ã€ä¿¡å·ç”Ÿæˆ</td></tr><tr><td><strong>REST API</strong></td><td><code>StrategyController.java</code></td><td>æä¾›HTTPæ¥å£</td></tr><tr><td><strong>å®ä½“ç±»</strong></td><td><code>Strategy.java</code>, <code>StrategySignal.java</code></td><td>æ•°æ®åº“å®ä½“</td></tr><tr><td><strong>å‰ç«¯é¡µé¢</strong></td><td><code>Strategy.vue</code></td><td>ç­–ç•¥ç®¡ç†ç•Œé¢</td></tr></tbody></table><hr><h2 id="å®ç°æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#å®ç°æ­¥éª¤" aria-hidden="true">#</a> å®ç°æ­¥éª¤</h2><h3 id="ç¬¬ä¸€æ­¥-åˆ›å»ºæŠ€æœ¯æŒ‡æ ‡è®¡ç®—å·¥å…·ç±»" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸€æ­¥-åˆ›å»ºæŠ€æœ¯æŒ‡æ ‡è®¡ç®—å·¥å…·ç±»" aria-hidden="true">#</a> ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæŠ€æœ¯æŒ‡æ ‡è®¡ç®—å·¥å…·ç±»</h3><p><strong>æ–‡ä»¶ä½ç½®</strong>: <code>trading-service/src/main/java/com/quant/trading/indicator/IndicatorCalculator.java</code></p><p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>:</p><ul><li>âœ… <strong>SMAï¼ˆç®€å•ç§»åŠ¨å¹³å‡çº¿ï¼‰</strong>: è®¡ç®—æŒ‡å®šå‘¨æœŸçš„å¹³å‡ä»·æ ¼</li><li>âœ… <strong>EMAï¼ˆæŒ‡æ•°ç§»åŠ¨å¹³å‡çº¿ï¼‰</strong>: å¯¹è¿‘æœŸæ•°æ®èµ‹äºˆæ›´é«˜æƒé‡</li><li>âœ… <strong>MACD</strong>: è¶‹åŠ¿è·Ÿè¸ªåŠ¨é‡æŒ‡æ ‡</li><li>âœ… <strong>RSI</strong>: ç›¸å¯¹å¼ºå¼±æŒ‡æ ‡ï¼ˆ0-100ï¼‰</li><li>âœ… <strong>BOLLï¼ˆå¸ƒæ—å¸¦ï¼‰</strong>: ä»·æ ¼æ³¢åŠ¨åŒºé—´</li></ul><p><strong>SMAè®¡ç®—ç¤ºä¾‹</strong>:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BigDecimal</span><span class="token punctuation">&gt;</span></span> <span class="token function">calculateSMA</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BigDecimal</span><span class="token punctuation">&gt;</span></span> prices<span class="token punctuation">,</span> <span class="token keyword">int</span> period<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BigDecimal</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å‰period-1ä¸ªæ•°æ®ä¸è¶³ï¼Œå¡«å……null</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> period <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ä»ç¬¬periodä¸ªå¼€å§‹è®¡ç®—MA</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> period <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> prices<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">BigDecimal</span> sum <span class="token operator">=</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token constant">ZERO</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> period<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            sum <span class="token operator">=</span> sum<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>prices<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i <span class="token operator">-</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">BigDecimal</span> ma <span class="token operator">=</span> sum<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>period<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span><span class="token constant">HALF_UP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ma<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¬¬äºŒæ­¥-åˆ›å»ºæ•°æ®åº“å®ä½“" tabindex="-1"><a class="header-anchor" href="#ç¬¬äºŒæ­¥-åˆ›å»ºæ•°æ®åº“å®ä½“" aria-hidden="true">#</a> ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®åº“å®ä½“</h3><h4 id="ç­–ç•¥è¡¨-strategies" tabindex="-1"><a class="header-anchor" href="#ç­–ç•¥è¡¨-strategies" aria-hidden="true">#</a> ç­–ç•¥è¡¨ (strategies)</h4><p><strong>æ–‡ä»¶ä½ç½®</strong>: <code>trading-service/src/main/java/com/quant/trading/entity/Strategy.java</code></p><p><strong>å­—æ®µè¯´æ˜</strong>:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;strategies&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Strategy</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span><span class="token constant">IDENTITY</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>                    <span class="token comment">// ç­–ç•¥ID</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>                <span class="token comment">// ç­–ç•¥åç§°</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> type<span class="token punctuation">;</span>                <span class="token comment">// ç­–ç•¥ç±»å‹: MA_CROSS, MACD, RSIç­‰</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> parameters<span class="token punctuation">;</span>          <span class="token comment">// å‚æ•°JSON: {&quot;shortPeriod&quot;: 5, &quot;longPeriod&quot;: 20}</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>         <span class="token comment">// ç­–ç•¥æè¿°</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> status<span class="token punctuation">;</span>              <span class="token comment">// çŠ¶æ€: STOPPED, RUNNING, PAUSED</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> userId<span class="token punctuation">;</span>                <span class="token comment">// ç”¨æˆ·ID</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> createdAt<span class="token punctuation">;</span>    <span class="token comment">// åˆ›å»ºæ—¶é—´</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> updatedAt<span class="token punctuation">;</span>    <span class="token comment">// æ›´æ–°æ—¶é—´</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¿¡å·è¡¨-strategy-signals" tabindex="-1"><a class="header-anchor" href="#ä¿¡å·è¡¨-strategy-signals" aria-hidden="true">#</a> ä¿¡å·è¡¨ (strategy_signals)</h4><p><strong>æ–‡ä»¶ä½ç½®</strong>: <code>trading-service/src/main/java/com/quant/trading/entity/StrategySignal.java</code></p><p><strong>å­—æ®µè¯´æ˜</strong>:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;strategy_signals&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StrategySignal</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span><span class="token constant">IDENTITY</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>                    <span class="token comment">// ä¿¡å·ID</span>

    <span class="token keyword">private</span> <span class="token class-name">Long</span> strategyId<span class="token punctuation">;</span>            <span class="token comment">// å…³è”çš„ç­–ç•¥ID</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> stockCode<span class="token punctuation">;</span>           <span class="token comment">// è‚¡ç¥¨ä»£ç : 000001.SZ</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> stockName<span class="token punctuation">;</span>           <span class="token comment">// è‚¡ç¥¨åç§°: å¹³å®‰é“¶è¡Œ</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> signalType<span class="token punctuation">;</span>          <span class="token comment">// ä¿¡å·ç±»å‹: BUY, SELL, HOLD</span>
    <span class="token keyword">private</span> <span class="token class-name">BigDecimal</span> price<span class="token punctuation">;</span>           <span class="token comment">// ä¿¡å·äº§ç”Ÿæ—¶çš„ä»·æ ¼</span>
    <span class="token keyword">private</span> <span class="token class-name">BigDecimal</span> signalStrength<span class="token punctuation">;</span>  <span class="token comment">// ä¿¡å·å¼ºåº¦(0-100)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> reason<span class="token punctuation">;</span>              <span class="token comment">// ä¿¡å·åŸå› è¯¦æƒ…</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> signalTime<span class="token punctuation">;</span>   <span class="token comment">// ä¿¡å·ç”Ÿæˆæ—¶é—´</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> executed<span class="token punctuation">;</span>           <span class="token comment">// æ˜¯å¦å·²æ‰§è¡Œäº¤æ˜“</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> executedAt<span class="token punctuation">;</span>   <span class="token comment">// æ‰§è¡Œæ—¶é—´</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¬¬ä¸‰æ­¥-å®šä¹‰ç­–ç•¥æ¥å£" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸‰æ­¥-å®šä¹‰ç­–ç•¥æ¥å£" aria-hidden="true">#</a> ç¬¬ä¸‰æ­¥ï¼šå®šä¹‰ç­–ç•¥æ¥å£</h3><p><strong>æ–‡ä»¶ä½ç½®</strong>: <code>trading-service/src/main/java/com/quant/trading/strategy/TradingStrategy.java</code></p><p><strong>æ¥å£å®šä¹‰</strong>:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">TradingStrategy</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * ç”Ÿæˆäº¤æ˜“ä¿¡å·
     * <span class="token keyword">@param</span> <span class="token parameter">stockCode</span> è‚¡ç¥¨ä»£ç 
     * <span class="token keyword">@param</span> <span class="token parameter">prices</span> ä»·æ ¼æ•°æ®åˆ—è¡¨ï¼ˆæŒ‰æ—¶é—´é¡ºåºï¼Œæœ€æ–°çš„åœ¨æœ€åï¼‰
     * <span class="token keyword">@param</span> <span class="token parameter">parameters</span> ç­–ç•¥å‚æ•°ï¼ˆJSONæ ¼å¼ï¼‰
     * <span class="token keyword">@return</span> äº¤æ˜“ä¿¡å·
     */</span>
    <span class="token class-name">StrategySignal</span> <span class="token function">generateSignal</span><span class="token punctuation">(</span><span class="token class-name">String</span> stockCode<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BigDecimal</span><span class="token punctuation">&gt;</span></span> prices<span class="token punctuation">,</span> <span class="token class-name">String</span> parameters<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * è·å–ç­–ç•¥ç±»å‹
     */</span>
    <span class="token class-name">String</span> <span class="token function">getStrategyType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * è·å–ç­–ç•¥æè¿°
     */</span>
    <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * éªŒè¯ç­–ç•¥å‚æ•°æ˜¯å¦æœ‰æ•ˆ
     */</span>
    <span class="token keyword">boolean</span> <span class="token function">validateParameters</span><span class="token punctuation">(</span><span class="token class-name">String</span> parameters<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¬¬å››æ­¥-å®ç°åŒå‡çº¿äº¤å‰ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ç¬¬å››æ­¥-å®ç°åŒå‡çº¿äº¤å‰ç­–ç•¥" aria-hidden="true">#</a> ç¬¬å››æ­¥ï¼šå®ç°åŒå‡çº¿äº¤å‰ç­–ç•¥</h3><p><strong>æ–‡ä»¶ä½ç½®</strong>: <code>trading-service/src/main/java/com/quant/trading/strategy/MovingAverageCrossStrategy.java</code></p><p><strong>æ ¸å¿ƒé€»è¾‘</strong>:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MovingAverageCrossStrategy</span> <span class="token keyword">implements</span> <span class="token class-name">TradingStrategy</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">StrategySignal</span> <span class="token function">generateSignal</span><span class="token punctuation">(</span><span class="token class-name">String</span> stockCode<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BigDecimal</span><span class="token punctuation">&gt;</span></span> prices<span class="token punctuation">,</span> <span class="token class-name">String</span> parameters<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. è§£æå‚æ•°</span>
        <span class="token keyword">int</span> shortPeriod <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>   <span class="token comment">// é»˜è®¤5æ—¥</span>
        <span class="token keyword">int</span> longPeriod <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>   <span class="token comment">// é»˜è®¤20æ—¥</span>

        <span class="token comment">// 2. è®¡ç®—å‡çº¿</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BigDecimal</span><span class="token punctuation">&gt;</span></span> shortMA <span class="token operator">=</span> <span class="token class-name">IndicatorCalculator</span><span class="token punctuation">.</span><span class="token function">calculateSMA</span><span class="token punctuation">(</span>prices<span class="token punctuation">,</span> shortPeriod<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BigDecimal</span><span class="token punctuation">&gt;</span></span> longMA <span class="token operator">=</span> <span class="token class-name">IndicatorCalculator</span><span class="token punctuation">.</span><span class="token function">calculateSMA</span><span class="token punctuation">(</span>prices<span class="token punctuation">,</span> longPeriod<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3. è·å–å½“å‰å’Œå‰ä¸€å¤©çš„å‡çº¿å€¼</span>
        <span class="token class-name">BigDecimal</span> currentShortMA <span class="token operator">=</span> shortMA<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>shortMA<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BigDecimal</span> currentLongMA <span class="token operator">=</span> longMA<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>longMA<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BigDecimal</span> previousShortMA <span class="token operator">=</span> shortMA<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>shortMA<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BigDecimal</span> previousLongMA <span class="token operator">=</span> longMA<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>longMA<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4. åˆ¤æ–­é‡‘å‰æˆ–æ­»å‰</span>
        <span class="token class-name">StrategySignal</span> signal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StrategySignal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// é‡‘å‰: å‰ä¸€å¤©çŸ­æœŸMA &lt; é•¿æœŸMA, ä»Šå¤©çŸ­æœŸMA &gt; é•¿æœŸMA</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>previousShortMA<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>previousLongMA<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
            currentShortMA<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>currentLongMA<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            signal<span class="token punctuation">.</span><span class="token function">setSignalType</span><span class="token punctuation">(</span><span class="token string">&quot;BUY&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            signal<span class="token punctuation">.</span><span class="token function">setReason</span><span class="token punctuation">(</span><span class="token string">&quot;é‡‘å‰ä¿¡å·: MA5å‘ä¸Šç©¿è¶ŠMA20&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// æ­»å‰: å‰ä¸€å¤©çŸ­æœŸMA &gt; é•¿æœŸMA, ä»Šå¤©çŸ­æœŸMA &lt; é•¿æœŸMA</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>previousShortMA<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>previousLongMA<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
                 currentShortMA<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>currentLongMA<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            signal<span class="token punctuation">.</span><span class="token function">setSignalType</span><span class="token punctuation">(</span><span class="token string">&quot;SELL&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            signal<span class="token punctuation">.</span><span class="token function">setReason</span><span class="token punctuation">(</span><span class="token string">&quot;æ­»å‰ä¿¡å·: MA5å‘ä¸‹ç©¿è¶ŠMA20&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            signal<span class="token punctuation">.</span><span class="token function">setSignalType</span><span class="token punctuation">(</span><span class="token string">&quot;HOLD&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            signal<span class="token punctuation">.</span><span class="token function">setReason</span><span class="token punctuation">(</span><span class="token string">&quot;æ— äº¤å‰ä¿¡å·&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> signal<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¬¬äº”æ­¥-åˆ›å»ºç­–ç•¥æœåŠ¡å±‚" tabindex="-1"><a class="header-anchor" href="#ç¬¬äº”æ­¥-åˆ›å»ºç­–ç•¥æœåŠ¡å±‚" aria-hidden="true">#</a> ç¬¬äº”æ­¥ï¼šåˆ›å»ºç­–ç•¥æœåŠ¡å±‚</h3><p><strong>æ–‡ä»¶ä½ç½®</strong>: <code>trading-service/src/main/java/com/quant/trading/service/StrategyService.java</code></p><p><strong>æ ¸å¿ƒæ–¹æ³•</strong>:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StrategyService</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * åˆ›å»ºæ–°ç­–ç•¥
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">Strategy</span> <span class="token function">createStrategy</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> type<span class="token punctuation">,</span> <span class="token class-name">String</span> parameters<span class="token punctuation">,</span>
                                   <span class="token class-name">String</span> description<span class="token punctuation">,</span> <span class="token class-name">Long</span> userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Strategy</span> strategy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Strategy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        strategy<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        strategy<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
        strategy<span class="token punctuation">.</span><span class="token function">setParameters</span><span class="token punctuation">(</span>parameters<span class="token punctuation">)</span><span class="token punctuation">;</span>
        strategy<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">&quot;STOPPED&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> strategyRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>strategy<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * ä¸ºæŒ‡å®šè‚¡ç¥¨ç”Ÿæˆäº¤æ˜“ä¿¡å·
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">StrategySignal</span> <span class="token function">generateSignal</span><span class="token punctuation">(</span><span class="token class-name">Long</span> strategyId<span class="token punctuation">,</span> <span class="token class-name">String</span> stockCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. è·å–ç­–ç•¥é…ç½®</span>
        <span class="token class-name">Strategy</span> strategy <span class="token operator">=</span> strategyRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>strategyId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2. è·å–ç­–ç•¥å®ç°</span>
        <span class="token class-name">TradingStrategy</span> tradingStrategy <span class="token operator">=</span> <span class="token function">getStrategyByType</span><span class="token punctuation">(</span>strategy<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3. è·å–å†å²ä»·æ ¼æ•°æ®ï¼ˆ60å¤©ï¼‰</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BigDecimal</span><span class="token punctuation">&gt;</span></span> prices <span class="token operator">=</span> <span class="token function">getHistoricalPrices</span><span class="token punctuation">(</span>stockCode<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4. ç”Ÿæˆä¿¡å·</span>
        <span class="token class-name">StrategySignal</span> signal <span class="token operator">=</span> tradingStrategy<span class="token punctuation">.</span><span class="token function">generateSignal</span><span class="token punctuation">(</span>stockCode<span class="token punctuation">,</span> prices<span class="token punctuation">,</span>
                                                               strategy<span class="token punctuation">.</span><span class="token function">getParameters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        signal<span class="token punctuation">.</span><span class="token function">setStrategyId</span><span class="token punctuation">(</span>strategyId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 5. ä¿å­˜ä¿¡å·</span>
        <span class="token keyword">return</span> strategySignalRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>signal<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¬¬å…­æ­¥-åˆ›å»ºrest-apiæ§åˆ¶å™¨" tabindex="-1"><a class="header-anchor" href="#ç¬¬å…­æ­¥-åˆ›å»ºrest-apiæ§åˆ¶å™¨" aria-hidden="true">#</a> ç¬¬å…­æ­¥ï¼šåˆ›å»ºREST APIæ§åˆ¶å™¨</h3><p><strong>æ–‡ä»¶ä½ç½®</strong>: <code>trading-service/src/main/java/com/quant/trading/controller/StrategyController.java</code></p><p><strong>å…³é”®ç‚¹</strong>: âš ï¸ <strong>æ³¨æ„è·¯å¾„é…ç½®</strong> - ä¸è¦åŒ…å« <code>/trading-service</code>ï¼Œå› ä¸ºåœ¨ <code>application.yml</code> ä¸­å·²é…ç½®ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>
    <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /trading<span class="token punctuation">-</span>service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ­£ç¡®çš„æ³¨è§£</strong>:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/api/strategy&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// âœ… æ­£ç¡®ï¼šæœ€ç»ˆè·¯å¾„æ˜¯ /trading-service/api/strategy</span>
<span class="token annotation punctuation">@CrossOrigin</span><span class="token punctuation">(</span>origins <span class="token operator">=</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StrategyController</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é”™è¯¯ç¤ºä¾‹</strong>:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/trading-service/api/strategy&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// âŒ é”™è¯¯ï¼šä¼šå˜æˆ /trading-service/trading-service/api/strategy</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ç¬¬ä¸ƒæ­¥-åˆ›å»ºå‰ç«¯ç­–ç•¥ç®¡ç†é¡µé¢" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸ƒæ­¥-åˆ›å»ºå‰ç«¯ç­–ç•¥ç®¡ç†é¡µé¢" aria-hidden="true">#</a> ç¬¬ä¸ƒæ­¥ï¼šåˆ›å»ºå‰ç«¯ç­–ç•¥ç®¡ç†é¡µé¢</h3><p><strong>æ–‡ä»¶ä½ç½®</strong>: <code>web-frontend/src/views/dashboard/Strategy.vue</code></p><p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>:</p><ol><li>âœ… ç­–ç•¥åˆ—è¡¨å±•ç¤º</li><li>âœ… åˆ›å»ºç­–ç•¥å¯¹è¯æ¡†</li><li>âœ… ç”Ÿæˆä¿¡å·åŠŸèƒ½</li><li>âœ… ä¿¡å·å†å²å±•ç¤º</li><li>âœ… ç­–ç•¥å¯åŠ¨/åœæ­¢/åˆ é™¤</li></ol><p><strong>APIè°ƒç”¨ç¤ºä¾‹</strong>:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// åˆ›å»ºç­–ç•¥</span>
<span class="token keyword">const</span> <span class="token function-variable function">createStrategy</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token constant">API_BASE</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/strategy/create</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> newStrategy<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;MA_CROSS&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">parameters</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">shortPeriod</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">longPeriod</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç”Ÿæˆä¿¡å·</span>
<span class="token keyword">const</span> <span class="token function-variable function">generateSignal</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">strategyId<span class="token punctuation">,</span> stockCode</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>
    <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token constant">API_BASE</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/strategy/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>strategyId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/signal/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>stockCode<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¬¬å…«æ­¥-é…ç½®è·¯ç”±å’Œå¯¼èˆª" tabindex="-1"><a class="header-anchor" href="#ç¬¬å…«æ­¥-é…ç½®è·¯ç”±å’Œå¯¼èˆª" aria-hidden="true">#</a> ç¬¬å…«æ­¥ï¼šé…ç½®è·¯ç”±å’Œå¯¼èˆª</h3><p><strong>è·¯ç”±é…ç½®</strong>: <code>web-frontend/src/router/index.js</code></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;strategy&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Strategy&#39;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/views/dashboard/Strategy.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;ç­–ç•¥ç®¡ç†&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">requiresAuth</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å¯¼èˆªèœå•</strong>: <code>web-frontend/src/views/dashboard/Layout.vue</code></p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>strategy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Lightning</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-icon</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>ç­–ç•¥ç®¡ç†<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ä»£ç è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#ä»£ç è¯¦è§£" aria-hidden="true">#</a> ä»£ç è¯¦è§£</h2><h3 id="æŠ€æœ¯æŒ‡æ ‡è®¡ç®—-maç®—æ³•" tabindex="-1"><a class="header-anchor" href="#æŠ€æœ¯æŒ‡æ ‡è®¡ç®—-maç®—æ³•" aria-hidden="true">#</a> æŠ€æœ¯æŒ‡æ ‡è®¡ç®— - MAç®—æ³•</h3><p><strong>ç®€å•ç§»åŠ¨å¹³å‡çº¿ï¼ˆSMAï¼‰è®¡ç®—åŸç†</strong>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>MA(n) = (P1 + P2 + ... + Pn) / n

å…¶ä¸­:
- n: å‘¨æœŸï¼ˆå¦‚5æ—¥ã€20æ—¥ï¼‰
- P1...Pn: æœ€è¿‘nå¤©çš„æ”¶ç›˜ä»·
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¸¾ä¾‹ï¼šè®¡ç®—5æ—¥å‡çº¿</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>å‡è®¾æœ€è¿‘5å¤©è‚¡ä»·: [10.0, 10.2, 10.5, 10.3, 10.4]

MA5 = (10.0 + 10.2 + 10.5 + 10.3 + 10.4) / 5
    = 51.4 / 5
    = 10.28
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é‡‘å‰æ­»å‰åˆ¤æ–­é€»è¾‘" tabindex="-1"><a class="header-anchor" href="#é‡‘å‰æ­»å‰åˆ¤æ–­é€»è¾‘" aria-hidden="true">#</a> é‡‘å‰æ­»å‰åˆ¤æ–­é€»è¾‘</h3><p><strong>é‡‘å‰åˆ¤æ–­</strong>:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// å‰ä¸€å¤©ï¼šçŸ­æœŸMAåœ¨é•¿æœŸMAä¸‹æ–¹</span>
<span class="token keyword">boolean</span> yesterdayBelow <span class="token operator">=</span> previousShortMA<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>previousLongMA<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// ä»Šå¤©ï¼šçŸ­æœŸMAåœ¨é•¿æœŸMAä¸Šæ–¹</span>
<span class="token keyword">boolean</span> todayAbove <span class="token operator">=</span> currentShortMA<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>currentLongMA<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// é‡‘å‰ = æ˜¨å¤©åœ¨ä¸‹æ–¹ &amp;&amp; ä»Šå¤©åœ¨ä¸Šæ–¹</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>yesterdayBelow <span class="token operator">&amp;&amp;</span> todayAbove<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;BUY&quot;</span><span class="token punctuation">;</span>  <span class="token comment">// ä¹°å…¥ä¿¡å·</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ­»å‰åˆ¤æ–­</strong>:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// å‰ä¸€å¤©ï¼šçŸ­æœŸMAåœ¨é•¿æœŸMAä¸Šæ–¹</span>
<span class="token keyword">boolean</span> yesterdayAbove <span class="token operator">=</span> previousShortMA<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>previousLongMA<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// ä»Šå¤©ï¼šçŸ­æœŸMAåœ¨é•¿æœŸMAä¸‹æ–¹</span>
<span class="token keyword">boolean</span> todayBelow <span class="token operator">=</span> currentShortMA<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>currentLongMA<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// æ­»å‰ = æ˜¨å¤©åœ¨ä¸Šæ–¹ &amp;&amp; ä»Šå¤©åœ¨ä¸‹æ–¹</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>yesterdayAbove <span class="token operator">&amp;&amp;</span> todayBelow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;SELL&quot;</span><span class="token punctuation">;</span>  <span class="token comment">// å–å‡ºä¿¡å·</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¿¡å·å¼ºåº¦è®¡ç®—" tabindex="-1"><a class="header-anchor" href="#ä¿¡å·å¼ºåº¦è®¡ç®—" aria-hidden="true">#</a> ä¿¡å·å¼ºåº¦è®¡ç®—</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// ä¹°å…¥ä¿¡å·å¼ºåº¦ = çŸ­æœŸMAè¶…è¿‡é•¿æœŸMAçš„ç™¾åˆ†æ¯”</span>
<span class="token class-name">BigDecimal</span> buyStrength <span class="token operator">=</span> <span class="token punctuation">(</span>currentShortMA <span class="token operator">-</span> currentLongMA<span class="token punctuation">)</span> <span class="token operator">/</span> currentLongMA <span class="token operator">*</span> <span class="token number">100</span>

<span class="token comment">// å–å‡ºä¿¡å·å¼ºåº¦ = é•¿æœŸMAè¶…è¿‡çŸ­æœŸMAçš„ç™¾åˆ†æ¯”</span>
<span class="token class-name">BigDecimal</span> sellStrength <span class="token operator">=</span> <span class="token punctuation">(</span>currentLongMA <span class="token operator">-</span> currentShortMA<span class="token punctuation">)</span> <span class="token operator">/</span> currentLongMA <span class="token operator">*</span> <span class="token number">100</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å¼ºåº¦è§£è¯»</strong>:</p><ul><li><strong>0-1%</strong>: å¼±ä¿¡å· - åˆšåˆšäº¤å‰ï¼Œå¯èƒ½å‡çªç ´</li><li><strong>1-3%</strong>: ä¸­ç­‰ä¿¡å· - äº¤å‰æ˜æ˜¾ï¼Œå¯ä¿¡åº¦è¾ƒé«˜</li><li><strong>3%+</strong>: å¼ºä¿¡å· - å¤§å¹…äº¤å‰ï¼Œè¶‹åŠ¿æ˜ç¡®</li></ul><hr><h2 id="ä½¿ç”¨æŒ‡å—" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨æŒ‡å—" aria-hidden="true">#</a> ä½¿ç”¨æŒ‡å—</h2><h3 id="å‰ç½®æ¡ä»¶" tabindex="-1"><a class="header-anchor" href="#å‰ç½®æ¡ä»¶" aria-hidden="true">#</a> å‰ç½®æ¡ä»¶</h3><p>ç¡®ä¿ä»¥ä¸‹æœåŠ¡æ­£åœ¨è¿è¡Œï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 1. Market Data Service (Python) - 5001ç«¯å£</span>
<span class="token builtin class-name">cd</span> market-data-service
python3 api_server.py

<span class="token comment"># 2. Mock Trading Service (Python) - 5002ç«¯å£</span>
<span class="token builtin class-name">cd</span> mock-trading-service
python3 app.py

<span class="token comment"># 3. Trading Service (Java) - 8083ç«¯å£</span>
<span class="token builtin class-name">cd</span> trading-service
<span class="token comment"># åœ¨IntelliJ IDEAä¸­è¿è¡Œ TradingServiceApplication</span>
<span class="token comment"># æˆ–ä½¿ç”¨ Maven: mvn spring-boot:run</span>

<span class="token comment"># 4. Web Frontend (Vue.js) - 3000ç«¯å£</span>
<span class="token builtin class-name">cd</span> web-frontend
<span class="token function">npm</span> run dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨æ­¥éª¤" aria-hidden="true">#</a> ä½¿ç”¨æ­¥éª¤</h3><h4 id="æ­¥éª¤1-è®¿é—®ç­–ç•¥ç®¡ç†é¡µé¢" tabindex="-1"><a class="header-anchor" href="#æ­¥éª¤1-è®¿é—®ç­–ç•¥ç®¡ç†é¡µé¢" aria-hidden="true">#</a> æ­¥éª¤1ï¼šè®¿é—®ç­–ç•¥ç®¡ç†é¡µé¢</h4><p>æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>http://localhost:3000/dashboard/strategy
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æˆ–ä»é¦–é¡µå¯¼èˆªï¼š</p><ol><li>è®¿é—® http://localhost:3000</li><li>ç™»å½•ç³»ç»Ÿï¼ˆå¦‚æœéœ€è¦ï¼‰</li><li>ç‚¹å‡»å·¦ä¾§èœå• <strong>&quot;ç­–ç•¥ç®¡ç†&quot;</strong> ï¼ˆé—ªç”µå›¾æ ‡âš¡ï¼‰</li></ol><h4 id="æ­¥éª¤2-åˆ›å»ºç¬¬ä¸€ä¸ªç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#æ­¥éª¤2-åˆ›å»ºç¬¬ä¸€ä¸ªç­–ç•¥" aria-hidden="true">#</a> æ­¥éª¤2ï¼šåˆ›å»ºç¬¬ä¸€ä¸ªç­–ç•¥</h4><ol><li><p><strong>ç‚¹å‡» &quot;åˆ›å»ºæ–°ç­–ç•¥&quot; æŒ‰é’®</strong></p></li><li><p><strong>å¡«å†™ç­–ç•¥ä¿¡æ¯</strong>:</p><ul><li><strong>ç­–ç•¥åç§°</strong>: æˆ‘çš„ç¬¬ä¸€ä¸ªåŒå‡çº¿ç­–ç•¥</li><li><strong>ç­–ç•¥ç±»å‹</strong>: åŒå‡çº¿äº¤å‰ï¼ˆMA_CROSSï¼‰</li><li><strong>ç­–ç•¥æè¿°</strong>: 5æ—¥å’Œ20æ—¥å‡çº¿äº¤å‰ç­–ç•¥</li><li><strong>çŸ­æœŸå‡çº¿å‘¨æœŸ</strong>: 5ï¼ˆé»˜è®¤å€¼ï¼‰</li><li><strong>é•¿æœŸå‡çº¿å‘¨æœŸ</strong>: 20ï¼ˆé»˜è®¤å€¼ï¼‰</li></ul></li><li><p><strong>ç‚¹å‡» &quot;åˆ›å»º&quot; æŒ‰é’®</strong></p></li><li><p><strong>æˆåŠŸæç¤º</strong>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>âœ… ç­–ç•¥åˆ›å»ºæˆåŠŸ
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h4 id="æ­¥éª¤3-ç”Ÿæˆäº¤æ˜“ä¿¡å·" tabindex="-1"><a class="header-anchor" href="#æ­¥éª¤3-ç”Ÿæˆäº¤æ˜“ä¿¡å·" aria-hidden="true">#</a> æ­¥éª¤3ï¼šç”Ÿæˆäº¤æ˜“ä¿¡å·</h4><ol><li><p><strong>åœ¨ç­–ç•¥åˆ—è¡¨ä¸­æ‰¾åˆ°åˆšåˆ›å»ºçš„ç­–ç•¥</strong></p></li><li><p><strong>ç‚¹å‡» &quot;ç”Ÿæˆä¿¡å·&quot; æŒ‰é’®</strong></p></li><li><p><strong>åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­è¾“å…¥è‚¡ç¥¨ä»£ç </strong>:</p><ul><li>æ‰‹åŠ¨è¾“å…¥: <code>000001.SZ</code>ï¼ˆå¹³å®‰é“¶è¡Œï¼‰</li><li>æˆ–ç‚¹å‡»å¿«æ·æŒ‰é’®: <ul><li>å¹³å®‰é“¶è¡Œ (000001.SZ)</li><li>æ‹›å•†é“¶è¡Œ (600036.SH)</li><li>è´µå·èŒ…å° (600519.SH)</li></ul></li></ul></li><li><p><strong>ç‚¹å‡» &quot;ç”Ÿæˆ&quot; æŒ‰é’®</strong></p></li><li><p><strong>æŸ¥çœ‹ä¿¡å·ç»“æœ</strong>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>âœ… ä¿¡å·ç”ŸæˆæˆåŠŸ: BUY
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æˆ–</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>âœ… ä¿¡å·ç”ŸæˆæˆåŠŸ: SELL
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æˆ–</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>âœ… ä¿¡å·ç”ŸæˆæˆåŠŸ: HOLD
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h4 id="æ­¥éª¤4-æŸ¥çœ‹ä¿¡å·è¯¦æƒ…" tabindex="-1"><a class="header-anchor" href="#æ­¥éª¤4-æŸ¥çœ‹ä¿¡å·è¯¦æƒ…" aria-hidden="true">#</a> æ­¥éª¤4ï¼šæŸ¥çœ‹ä¿¡å·è¯¦æƒ…</h4><ol><li><p><strong>ç‚¹å‡» &quot;æŸ¥çœ‹ä¿¡å·&quot; æŒ‰é’®</strong></p></li><li><p><strong>ä¿¡å·è¯¦æƒ…è¡¨æ ¼æ˜¾ç¤º</strong>:</p><ul><li><strong>è‚¡ç¥¨ä»£ç </strong>: 000001.SZ</li><li><strong>è‚¡ç¥¨åç§°</strong>: å¹³å®‰é“¶è¡Œ</li><li><strong>ä¿¡å·ç±»å‹</strong>: BUY / SELL / HOLD</li><li><strong>ä»·æ ¼</strong>: Â¥11.40</li><li><strong>ä¿¡å·å¼ºåº¦</strong>: 2.5%</li><li><strong>ä¿¡å·åŸå› </strong>: é‡‘å‰ä¿¡å·: MA5(11.45) å‘ä¸Šç©¿è¶Š MA20(11.18)</li><li><strong>ç”Ÿæˆæ—¶é—´</strong>: 2025-10-23 16:00:00</li></ul></li></ol><h4 id="æ­¥éª¤5-æ‰¹é‡ç”Ÿæˆä¿¡å·-å¯é€‰" tabindex="-1"><a class="header-anchor" href="#æ­¥éª¤5-æ‰¹é‡ç”Ÿæˆä¿¡å·-å¯é€‰" aria-hidden="true">#</a> æ­¥éª¤5ï¼šæ‰¹é‡ç”Ÿæˆä¿¡å·ï¼ˆå¯é€‰ï¼‰</h4><p>å¦‚æœæƒ³ä¸€æ¬¡ä¸ºå¤šåªè‚¡ç¥¨ç”Ÿæˆä¿¡å·ï¼Œå¯ä»¥ä½¿ç”¨APIï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST http://localhost:8083/trading-service/api/strategy/1/signals <span class="token punctuation">\\</span>
  <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-d</span> <span class="token string">&#39;{
    &quot;stockCodes&quot;: [&quot;000001.SZ&quot;, &quot;600036.SH&quot;, &quot;600519.SH&quot;]
  }&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ­¥éª¤6-å¯åŠ¨-åœæ­¢ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#æ­¥éª¤6-å¯åŠ¨-åœæ­¢ç­–ç•¥" aria-hidden="true">#</a> æ­¥éª¤6ï¼šå¯åŠ¨/åœæ­¢ç­–ç•¥</h4><ol><li><p><strong>å¯åŠ¨ç­–ç•¥</strong>: ç‚¹å‡» &quot;å¯åŠ¨&quot; æŒ‰é’®</p><ul><li>ç­–ç•¥çŠ¶æ€å˜ä¸º &quot;è¿è¡Œä¸­&quot;</li><li>å¯ä»¥é…ç½®å®šæ—¶ä»»åŠ¡è‡ªåŠ¨ç”Ÿæˆä¿¡å·ï¼ˆæœªæ¥åŠŸèƒ½ï¼‰</li></ul></li><li><p><strong>åœæ­¢ç­–ç•¥</strong>: ç‚¹å‡» &quot;åœæ­¢&quot; æŒ‰é’®</p><ul><li>ç­–ç•¥çŠ¶æ€å˜ä¸º &quot;å·²åœæ­¢&quot;</li></ul></li></ol><h4 id="æ­¥éª¤7-åˆ é™¤ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#æ­¥éª¤7-åˆ é™¤ç­–ç•¥" aria-hidden="true">#</a> æ­¥éª¤7ï¼šåˆ é™¤ç­–ç•¥</h4><ol><li><p><strong>ç‚¹å‡» &quot;åˆ é™¤&quot; æŒ‰é’®</strong></p></li><li><p><strong>ç¡®è®¤å¯¹è¯æ¡†</strong>:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>âš ï¸ ç¡®å®šè¦åˆ é™¤ç­–ç•¥ &quot;æˆ‘çš„ç¬¬ä¸€ä¸ªç­–ç•¥&quot; å—ï¼Ÿ
æ­¤æ“ä½œå°†åŒæ—¶åˆ é™¤æ‰€æœ‰ç›¸å…³ä¿¡å·è®°å½•ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>ç‚¹å‡» &quot;ç¡®å®š&quot;</strong> å®Œæˆåˆ é™¤</p></li></ol><hr><h2 id="apiæ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#apiæ–‡æ¡£" aria-hidden="true">#</a> APIæ–‡æ¡£</h2><h3 id="åŸºç¡€ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€ä¿¡æ¯" aria-hidden="true">#</a> åŸºç¡€ä¿¡æ¯</h3><p><strong>Base URL</strong>: <code>http://localhost:8083/trading-service/api/strategy</code></p><p><strong>Content-Type</strong>: <code>application/json</code></p><h3 id="apiç«¯ç‚¹åˆ—è¡¨" tabindex="-1"><a class="header-anchor" href="#apiç«¯ç‚¹åˆ—è¡¨" aria-hidden="true">#</a> APIç«¯ç‚¹åˆ—è¡¨</h3><table><thead><tr><th>æ–¹æ³•</th><th>ç«¯ç‚¹</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>GET</td><td><code>/health</code></td><td>å¥åº·æ£€æŸ¥</td></tr><tr><td>GET</td><td><code>/types</code></td><td>è·å–æ”¯æŒçš„ç­–ç•¥ç±»å‹</td></tr><tr><td>POST</td><td><code>/create</code></td><td>åˆ›å»ºæ–°ç­–ç•¥</td></tr><tr><td>POST</td><td><code>/{strategyId}/signal/{stockCode}</code></td><td>ç”Ÿæˆå•ä¸ªè‚¡ç¥¨ä¿¡å·</td></tr><tr><td>POST</td><td><code>/{strategyId}/signals</code></td><td>æ‰¹é‡ç”Ÿæˆä¿¡å·</td></tr><tr><td>GET</td><td><code>/{strategyId}/signals</code></td><td>è·å–ç­–ç•¥çš„æ‰€æœ‰ä¿¡å·</td></tr><tr><td>GET</td><td><code>/user/{userId}</code></td><td>è·å–ç”¨æˆ·çš„æ‰€æœ‰ç­–ç•¥</td></tr><tr><td>POST</td><td><code>/{strategyId}/start</code></td><td>å¯åŠ¨ç­–ç•¥</td></tr><tr><td>POST</td><td><code>/{strategyId}/stop</code></td><td>åœæ­¢ç­–ç•¥</td></tr><tr><td>DELETE</td><td><code>/{strategyId}</code></td><td>åˆ é™¤ç­–ç•¥</td></tr></tbody></table><h3 id="è¯¦ç»†apiè¯´æ˜" tabindex="-1"><a class="header-anchor" href="#è¯¦ç»†apiè¯´æ˜" aria-hidden="true">#</a> è¯¦ç»†APIè¯´æ˜</h3><h4 id="_1-å¥åº·æ£€æŸ¥" tabindex="-1"><a class="header-anchor" href="#_1-å¥åº·æ£€æŸ¥" aria-hidden="true">#</a> 1. å¥åº·æ£€æŸ¥</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/strategy/health
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å“åº”</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;UP&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;service&quot;</span><span class="token operator">:</span> <span class="token string">&quot;strategy-service&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-è·å–æ”¯æŒçš„ç­–ç•¥ç±»å‹" tabindex="-1"><a class="header-anchor" href="#_2-è·å–æ”¯æŒçš„ç­–ç•¥ç±»å‹" aria-hidden="true">#</a> 2. è·å–æ”¯æŒçš„ç­–ç•¥ç±»å‹</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/strategy/types
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å“åº”</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;strategies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MA_CROSS&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;åŒå‡çº¿äº¤å‰ç­–ç•¥&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;é€šè¿‡çŸ­æœŸå‡çº¿å’Œé•¿æœŸå‡çº¿çš„äº¤å‰åˆ¤æ–­ä¹°å–æ—¶æœº&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;shortPeriod&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;çŸ­æœŸå‡çº¿å‘¨æœŸ&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;longPeriod&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
          <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;é•¿æœŸå‡çº¿å‘¨æœŸ&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-åˆ›å»ºæ–°ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_3-åˆ›å»ºæ–°ç­–ç•¥" aria-hidden="true">#</a> 3. åˆ›å»ºæ–°ç­–ç•¥</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST /api/strategy/create
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è¯·æ±‚ä½“</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æˆ‘çš„ç¬¬ä¸€ä¸ªç­–ç•¥&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MA_CROSS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5æ—¥å’Œ20æ—¥å‡çº¿äº¤å‰ç­–ç•¥&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{\\&quot;shortPeriod\\&quot;: 5, \\&quot;longPeriod\\&quot;: 20}&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;userId&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å“åº”</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ç­–ç•¥åˆ›å»ºæˆåŠŸ&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;strategy&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æˆ‘çš„ç¬¬ä¸€ä¸ªç­–ç•¥&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MA_CROSS&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{\\&quot;shortPeriod\\&quot;: 5, \\&quot;longPeriod\\&quot;: 20}&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5æ—¥å’Œ20æ—¥å‡çº¿äº¤å‰ç­–ç•¥&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STOPPED&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;userId&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;createdAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-23T16:00:00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;updatedAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-23T16:00:00&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-ç”Ÿæˆäº¤æ˜“ä¿¡å·" tabindex="-1"><a class="header-anchor" href="#_4-ç”Ÿæˆäº¤æ˜“ä¿¡å·" aria-hidden="true">#</a> 4. ç”Ÿæˆäº¤æ˜“ä¿¡å·</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST /api/strategy/{strategyId}/signal/{stockCode}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹</strong>:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>POST /api/strategy/1/signal/000001.SZ
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å“åº”</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ä¿¡å·ç”ŸæˆæˆåŠŸ&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;signal&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strategyId&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stockCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stockName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;å¹³å®‰é“¶è¡Œ&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signalType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BUY&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signalStrength&quot;</span><span class="token operator">:</span> <span class="token number">2.5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;é‡‘å‰ä¿¡å·: MA5(11.45) å‘ä¸Šç©¿è¶Š MA20(11.18)&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signalTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-23T16:00:00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;executed&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¿¡å·ç±»å‹è¯´æ˜</strong>:</p><ul><li><code>BUY</code>: ä¹°å…¥ä¿¡å·ï¼ˆé‡‘å‰ï¼‰</li><li><code>SELL</code>: å–å‡ºä¿¡å·ï¼ˆæ­»å‰ï¼‰</li><li><code>HOLD</code>: æŒæœ‰ï¼ˆæ— äº¤å‰ï¼‰</li></ul><h4 id="_5-æ‰¹é‡ç”Ÿæˆä¿¡å·" tabindex="-1"><a class="header-anchor" href="#_5-æ‰¹é‡ç”Ÿæˆä¿¡å·" aria-hidden="true">#</a> 5. æ‰¹é‡ç”Ÿæˆä¿¡å·</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST /api/strategy/{strategyId}/signals
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è¯·æ±‚ä½“</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;stockCodes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;600036.SH&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;600519.SH&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å“åº”</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æ‰¹é‡ä¿¡å·ç”Ÿæˆå®Œæˆ&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;totalCount&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;signals&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;stockCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;signalType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BUY&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">11.40</span><span class="token punctuation">,</span>
      <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;é‡‘å‰ä¿¡å·: MA5å‘ä¸Šç©¿è¶ŠMA20&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;stockCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;600036.SH&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;signalType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HOLD&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">45.30</span><span class="token punctuation">,</span>
      <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æ— äº¤å‰ä¿¡å·&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;stockCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;600519.SH&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;signalType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SELL&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">1850.00</span><span class="token punctuation">,</span>
      <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æ­»å‰ä¿¡å·: MA5å‘ä¸‹ç©¿è¶ŠMA20&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-è·å–ç­–ç•¥çš„æ‰€æœ‰ä¿¡å·" tabindex="-1"><a class="header-anchor" href="#_6-è·å–ç­–ç•¥çš„æ‰€æœ‰ä¿¡å·" aria-hidden="true">#</a> 6. è·å–ç­–ç•¥çš„æ‰€æœ‰ä¿¡å·</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/strategy/{strategyId}/signals
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å“åº”</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;signals&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token property">&quot;strategyId&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;stockCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;600519.SH&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;signalType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SELL&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;signalTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-23T16:05:00&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">&quot;strategyId&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;stockCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;600036.SH&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;signalType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HOLD&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;signalTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-23T16:03:00&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;strategyId&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;stockCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;000001.SZ&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;signalType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BUY&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;signalTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-23T16:00:00&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_7-è·å–ç”¨æˆ·çš„æ‰€æœ‰ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_7-è·å–ç”¨æˆ·çš„æ‰€æœ‰ç­–ç•¥" aria-hidden="true">#</a> 7. è·å–ç”¨æˆ·çš„æ‰€æœ‰ç­–ç•¥</h4><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET /api/strategy/user/{userId}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å“åº”</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;strategies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æˆ‘çš„ç¬¬ä¸€ä¸ªç­–ç•¥&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MA_CROSS&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STOPPED&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;createdAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-10-23T16:00:00&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="æ•…éšœæ’æŸ¥" tabindex="-1"><a class="header-anchor" href="#æ•…éšœæ’æŸ¥" aria-hidden="true">#</a> æ•…éšœæ’æŸ¥</h2><h3 id="é—®é¢˜1-å‰ç«¯æ˜¾ç¤º-network-error" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜1-å‰ç«¯æ˜¾ç¤º-network-error" aria-hidden="true">#</a> é—®é¢˜1: å‰ç«¯æ˜¾ç¤º &quot;Network Error&quot;</h3><p><strong>ç—‡çŠ¶</strong>: æµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤ºæ— æ³•è¿æ¥åˆ°åç«¯</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><p><strong>æ£€æŸ¥trading-serviceæ˜¯å¦è¿è¡Œ</strong>:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> http://localhost:8083/trading-service/actuator/health
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åº”è¯¥è¿”å›: <code>{&quot;status&quot;:&quot;UP&quot;}</code></p></li><li><p><strong>æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨</strong>:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">lsof</span> <span class="token parameter variable">-i</span> :8083
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><strong>åœ¨IntelliJ IDEAä¸­é‡å¯æœåŠ¡</strong>:</p><ul><li>åœæ­¢æœåŠ¡ï¼ˆçº¢è‰²æ–¹å—ï¼‰</li><li>é‡æ–°å¯åŠ¨ï¼ˆç»¿è‰²ä¸‰è§’ï¼‰</li></ul></li></ol><h3 id="é—®é¢˜2-apiè¿”å›-404-not-found" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜2-apiè¿”å›-404-not-found" aria-hidden="true">#</a> é—®é¢˜2: APIè¿”å› 404 Not Found</h3><p><strong>ç—‡çŠ¶</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">404</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Not Found&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/trading-service/api/strategy/health&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åŸå› </strong>: Controllerçš„RequestMappingè·¯å¾„é…ç½®é”™è¯¯</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><p>æ£€æŸ¥ <code>StrategyController.java</code> çš„æ³¨è§£ï¼š</p><p>âœ… <strong>æ­£ç¡®é…ç½®</strong>:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/api/strategy&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// ä¸åŒ…å« /trading-service</span>
<span class="token annotation punctuation">@CrossOrigin</span><span class="token punctuation">(</span>origins <span class="token operator">=</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StrategyController</span> <span class="token punctuation">{</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>âŒ <strong>é”™è¯¯é…ç½®</strong>:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/trading-service/api/strategy&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// é”™è¯¯ï¼ä¼šé‡å¤</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>ä¿®å¤æ­¥éª¤</strong>:</p><ol><li>ä¿®æ”¹ StrategyController.java</li><li>åœ¨IDEä¸­ <strong>Build â†’ Rebuild Project</strong></li><li>é‡å¯ trading-service</li></ol><h3 id="é—®é¢˜3-ç”Ÿæˆä¿¡å·æ—¶è¿”å›-æ•°æ®ä¸è¶³" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜3-ç”Ÿæˆä¿¡å·æ—¶è¿”å›-æ•°æ®ä¸è¶³" aria-hidden="true">#</a> é—®é¢˜3: ç”Ÿæˆä¿¡å·æ—¶è¿”å› &quot;æ•°æ®ä¸è¶³&quot;</h3><p><strong>ç—‡çŠ¶</strong>:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;signalType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HOLD&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æ•°æ®ä¸è¶³ï¼Œæ— æ³•è®¡ç®—å‡çº¿&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åŸå› </strong>: å†å²ä»·æ ¼æ•°æ®å°‘äºé•¿æœŸå‡çº¿å‘¨æœŸï¼ˆé»˜è®¤20å¤©ï¼‰</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><p><strong>é™ä½å‡çº¿å‘¨æœŸ</strong>:</p><ul><li>çŸ­æœŸ: MA3</li><li>é•¿æœŸ: MA10</li></ul></li><li><p><strong>æä¾›æ›´å¤šå†å²æ•°æ®</strong>:</p><ul><li>ä¿®æ”¹ <code>StrategyService.java</code>:</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BigDecimal</span><span class="token punctuation">&gt;</span></span> prices <span class="token operator">=</span> <span class="token function">getHistoricalPrices</span><span class="token punctuation">(</span>stockCode<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–60å¤©æ•°æ®</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="é—®é¢˜4-ç­–ç•¥åˆ—è¡¨ä¸ºç©º" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜4-ç­–ç•¥åˆ—è¡¨ä¸ºç©º" aria-hidden="true">#</a> é—®é¢˜4: ç­–ç•¥åˆ—è¡¨ä¸ºç©º</h3><p><strong>ç—‡çŠ¶</strong>: å‰ç«¯æ˜¾ç¤º&quot;æš‚æ— æ•°æ®&quot;</p><p><strong>åŸå› </strong>:</p><ol><li>è¿˜æ²¡æœ‰åˆ›å»ºç­–ç•¥</li><li>æ•°æ®åº“è¿æ¥é—®é¢˜</li></ol><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><ol><li><p><strong>æ£€æŸ¥æ•°æ®åº“</strong>:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># è®¿é—®H2æ§åˆ¶å°</span>
http://localhost:8083/trading-service/h2-console

<span class="token comment"># è¿æ¥ä¿¡æ¯ï¼ˆåœ¨application.ymlä¸­ï¼‰</span>
JDBC URL: jdbc:h2:mem:trading_db
Username: sa
Password: <span class="token punctuation">(</span>ç•™ç©º<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>æŸ¥è¯¢ç­–ç•¥è¡¨</strong>:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> strategies<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><strong>æ‰‹åŠ¨åˆ›å»ºæµ‹è¯•ç­–ç•¥</strong>:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> strategies <span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token punctuation">,</span> parameters<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> user_id<span class="token punctuation">,</span> created_at<span class="token punctuation">,</span> updated_at<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;æµ‹è¯•ç­–ç•¥&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;MA_CROSS&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;{&quot;shortPeriod&quot;:5,&quot;longPeriod&quot;:20}&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;STOPPED&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="é—®é¢˜5-ä¿¡å·éƒ½æ˜¯-hold-æ²¡æœ‰-buy-sell" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜5-ä¿¡å·éƒ½æ˜¯-hold-æ²¡æœ‰-buy-sell" aria-hidden="true">#</a> é—®é¢˜5: ä¿¡å·éƒ½æ˜¯ HOLDï¼Œæ²¡æœ‰ BUY/SELL</h3><p><strong>ç—‡çŠ¶</strong>: æ‰€æœ‰ç”Ÿæˆçš„ä¿¡å·éƒ½æ˜¯ HOLD ç±»å‹</p><p><strong>åŸå› </strong>: å½“å‰æ²¡æœ‰å‘ç”Ÿå‡çº¿äº¤å‰</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><p>è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼åŒå‡çº¿äº¤å‰ä¸æ˜¯æ¯å¤©éƒ½ä¼šå‘ç”Ÿã€‚åªæœ‰åœ¨çœŸæ­£å‡ºç°é‡‘å‰æˆ–æ­»å‰æ—¶æ‰ä¼šç”ŸæˆBUY/SELLä¿¡å·ã€‚</p><p><strong>å¦‚ä½•æµ‹è¯•</strong>:</p><ol><li><p><strong>ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®æµ‹è¯•</strong>:</p><ul><li>ä¿®æ”¹ <code>generateMockPrices</code> æ–¹æ³•</li><li>åˆ›é€ é‡‘å‰åœºæ™¯ï¼šä»·æ ¼æŒç»­ä¸Šæ¶¨</li><li>åˆ›é€ æ­»å‰åœºæ™¯ï¼šä»·æ ¼æŒç»­ä¸‹è·Œ</li></ul></li><li><p><strong>ç­‰å¾…çœŸå®äº¤å‰</strong>:</p><ul><li>æ¯å¤©å®šæ—¶ç”Ÿæˆä¿¡å·</li><li>å½“å¸‚åœºå‡ºç°è¶‹åŠ¿å˜åŒ–æ—¶ä¼šäº§ç”Ÿä¿¡å·</li></ul></li></ol><h3 id="é—®é¢˜6-corsè·¨åŸŸé”™è¯¯" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜6-corsè·¨åŸŸé”™è¯¯" aria-hidden="true">#</a> é—®é¢˜6: CORSè·¨åŸŸé”™è¯¯</h3><p><strong>ç—‡çŠ¶</strong>: æµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤º CORS policy é”™è¯¯</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p><p>ç¡®ä¿Controlleræœ‰ <code>@CrossOrigin</code> æ³¨è§£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/api/strategy&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@CrossOrigin</span><span class="token punctuation">(</span>origins <span class="token operator">=</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span>  <span class="token comment">// âœ… å¿…é¡»æœ‰è¿™ä¸ª</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StrategyController</span> <span class="token punctuation">{</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ä¸‹ä¸€æ­¥æ‰©å±•" tabindex="-1"><a class="header-anchor" href="#ä¸‹ä¸€æ­¥æ‰©å±•" aria-hidden="true">#</a> ä¸‹ä¸€æ­¥æ‰©å±•</h2><p>å®ŒæˆåŒå‡çº¿äº¤å‰ç­–ç•¥åï¼Œå¯ä»¥ç»§ç»­å¼€å‘ï¼š</p><h3 id="_1-æ›´å¤šç­–ç•¥ç±»å‹" tabindex="-1"><a class="header-anchor" href="#_1-æ›´å¤šç­–ç•¥ç±»å‹" aria-hidden="true">#</a> 1. æ›´å¤šç­–ç•¥ç±»å‹</h3><ul><li><strong>MACDäº¤å‰ç­–ç•¥</strong>: DIFçº¿å’ŒDEAçº¿çš„é‡‘å‰æ­»å‰</li><li><strong>RSIè¶…ä¹°è¶…å–</strong>: RSI &gt; 70 å–å‡ºï¼ŒRSI &lt; 30 ä¹°å…¥</li><li><strong>å¸ƒæ—å¸¦çªç ´</strong>: ä»·æ ¼çªç ´ä¸Šè½¨/ä¸‹è½¨</li><li><strong>KDJæŒ‡æ ‡</strong>: Kçº¿å’ŒDçº¿äº¤å‰</li></ul><h3 id="_2-è‡ªåŠ¨äº¤æ˜“å¼•æ“" tabindex="-1"><a class="header-anchor" href="#_2-è‡ªåŠ¨äº¤æ˜“å¼•æ“" aria-hidden="true">#</a> 2. è‡ªåŠ¨äº¤æ˜“å¼•æ“</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>fixedRate <span class="token operator">=</span> <span class="token number">300000</span><span class="token punctuation">)</span>  <span class="token comment">// æ¯5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">autoTrading</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. è·å–æ‰€æœ‰è¿è¡Œä¸­çš„ç­–ç•¥</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Strategy</span><span class="token punctuation">&gt;</span></span> runningStrategies <span class="token operator">=</span> strategyRepository<span class="token punctuation">.</span><span class="token function">findByStatus</span><span class="token punctuation">(</span><span class="token string">&quot;RUNNING&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2. ä¸ºæ¯ä¸ªç­–ç•¥ç”Ÿæˆä¿¡å·</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Strategy</span> strategy <span class="token operator">:</span> runningStrategies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">StrategySignal</span> signal <span class="token operator">=</span> <span class="token function">generateSignal</span><span class="token punctuation">(</span>strategy<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> stockCode<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3. å¦‚æœæ˜¯BUY/SELLä¿¡å·ï¼Œè‡ªåŠ¨æ‰§è¡Œäº¤æ˜“</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>signal<span class="token punctuation">.</span><span class="token function">getSignalType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;BUY&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">executeBuyOrder</span><span class="token punctuation">(</span>signal<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>signal<span class="token punctuation">.</span><span class="token function">getSignalType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;SELL&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">executeSellOrder</span><span class="token punctuation">(</span>signal<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-å›æµ‹ç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#_3-å›æµ‹ç³»ç»Ÿ" aria-hidden="true">#</a> 3. å›æµ‹ç³»ç»Ÿ</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">BacktestResult</span> <span class="token function">runBacktest</span><span class="token punctuation">(</span><span class="token class-name">Strategy</span> strategy<span class="token punctuation">,</span> <span class="token class-name">String</span> stockCode<span class="token punctuation">,</span>
                                  <span class="token class-name">LocalDate</span> startDate<span class="token punctuation">,</span> <span class="token class-name">LocalDate</span> endDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. è·å–å†å²æ•°æ®</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StockPrice</span><span class="token punctuation">&gt;</span></span> historicalData <span class="token operator">=</span> <span class="token function">getHistoricalData</span><span class="token punctuation">(</span>stockCode<span class="token punctuation">,</span> startDate<span class="token punctuation">,</span> endDate<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2. æ¨¡æ‹Ÿäº¤æ˜“</span>
    <span class="token keyword">double</span> initialCapital <span class="token operator">=</span> <span class="token number">1000000.0</span><span class="token punctuation">;</span>  <span class="token comment">// 100ä¸‡åˆå§‹èµ„é‡‘</span>
    <span class="token class-name">Portfolio</span> portfolio <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Portfolio</span><span class="token punctuation">(</span>initialCapital<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">StockPrice</span> data <span class="token operator">:</span> historicalData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">StrategySignal</span> signal <span class="token operator">=</span> strategy<span class="token punctuation">.</span><span class="token function">generateSignal</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>signal<span class="token punctuation">.</span><span class="token function">getSignalType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;BUY&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            portfolio<span class="token punctuation">.</span><span class="token function">buy</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">calculateQuantity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>signal<span class="token punctuation">.</span><span class="token function">getSignalType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;SELL&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            portfolio<span class="token punctuation">.</span><span class="token function">sell</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 3. è®¡ç®—å›æµ‹æŒ‡æ ‡</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BacktestResult</span><span class="token punctuation">(</span>
        portfolio<span class="token punctuation">.</span><span class="token function">getTotalReturn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token comment">// æ€»æ”¶ç›Šç‡</span>
        portfolio<span class="token punctuation">.</span><span class="token function">getMaxDrawdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token comment">// æœ€å¤§å›æ’¤</span>
        portfolio<span class="token punctuation">.</span><span class="token function">getSharpeRatio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token comment">// å¤æ™®æ¯”ç‡</span>
        portfolio<span class="token punctuation">.</span><span class="token function">getTradeCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// äº¤æ˜“æ¬¡æ•°</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-å®æ—¶æ•°æ®é›†æˆ" tabindex="-1"><a class="header-anchor" href="#_4-å®æ—¶æ•°æ®é›†æˆ" aria-hidden="true">#</a> 4. å®æ—¶æ•°æ®é›†æˆ</h3><p>æ›¿æ¢æ¨¡æ‹Ÿæ•°æ®ä¸ºçœŸå®å¸‚åœºæ•°æ®ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BigDecimal</span><span class="token punctuation">&gt;</span></span> <span class="token function">getHistoricalPrices</span><span class="token punctuation">(</span><span class="token class-name">String</span> stockCode<span class="token punctuation">,</span> <span class="token keyword">int</span> days<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è°ƒç”¨ market-data-service</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://localhost:5001/api/stocks/&quot;</span> <span class="token operator">+</span> stockCode <span class="token operator">+</span> <span class="token string">&quot;/history?days=&quot;</span> <span class="token operator">+</span> days<span class="token punctuation">;</span>

    <span class="token class-name">RestTemplate</span> restTemplate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">StockHistoryResponse</span> response <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token class-name">StockHistoryResponse</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">StockPrice</span><span class="token operator">::</span><span class="token function">getClose</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><p>é€šè¿‡æœ¬æ–‡æ¡£ï¼Œä½ å·²ç»å­¦ä¼šäº†ï¼š</p><p>âœ… <strong>ç†è®ºçŸ¥è¯†</strong></p><ul><li>åŒå‡çº¿äº¤å‰ç­–ç•¥çš„åŸç†</li><li>é‡‘å‰å’Œæ­»å‰çš„åˆ¤æ–­æ–¹æ³•</li><li>æŠ€æœ¯æŒ‡æ ‡çš„è®¡ç®—æ–¹å¼</li></ul><p>âœ… <strong>æŠ€æœ¯å®ç°</strong></p><ul><li>æŠ€æœ¯æŒ‡æ ‡è®¡ç®—åº“çš„å¼€å‘</li><li>ç­–ç•¥æ¥å£çš„è®¾è®¡</li><li>åŒå‡çº¿ç­–ç•¥çš„å®ç°</li><li>REST APIçš„åˆ›å»º</li><li>å‰ç«¯ç®¡ç†é¡µé¢çš„å¼€å‘</li></ul><p>âœ… <strong>å®æˆ˜åº”ç”¨</strong></p><ul><li>å¦‚ä½•åˆ›å»ºç­–ç•¥</li><li>å¦‚ä½•ç”Ÿæˆäº¤æ˜“ä¿¡å·</li><li>å¦‚ä½•æŸ¥çœ‹ä¿¡å·å†å²</li><li>å¦‚ä½•ç®¡ç†ç­–ç•¥çŠ¶æ€</li></ul><p>âœ… <strong>é—®é¢˜æ’æŸ¥</strong></p><ul><li>å¸¸è§é”™è¯¯çš„è§£å†³æ–¹æ¡ˆ</li><li>é…ç½®æ³¨æ„äº‹é¡¹</li><li>è°ƒè¯•æŠ€å·§</li></ul><p>ç°åœ¨ä½ å¯ä»¥ï¼š</p><ol><li>åˆ›å»ºè‡ªå·±çš„äº¤æ˜“ç­–ç•¥</li><li>å®æ—¶ç”Ÿæˆä¹°å–ä¿¡å·</li><li>åŸºäºç­–ç•¥è¿›è¡Œæ¨¡æ‹Ÿäº¤æ˜“</li><li>æ‰©å±•å¼€å‘æ›´å¤šç­–ç•¥ç±»å‹</li></ol><p><strong>ç¥ä½ äº¤æ˜“æˆåŠŸï¼ğŸ“ˆ</strong></p><hr><h2 id="é™„å½•" tabindex="-1"><a class="header-anchor" href="#é™„å½•" aria-hidden="true">#</a> é™„å½•</h2><h3 id="å®Œæ•´æ–‡ä»¶æ¸…å•" tabindex="-1"><a class="header-anchor" href="#å®Œæ•´æ–‡ä»¶æ¸…å•" aria-hidden="true">#</a> å®Œæ•´æ–‡ä»¶æ¸…å•</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>trading-service/src/main/java/com/quant/trading/
â”œâ”€â”€ indicator/
â”‚   â””â”€â”€ IndicatorCalculator.java              # æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
â”œâ”€â”€ strategy/
â”‚   â”œâ”€â”€ TradingStrategy.java                  # ç­–ç•¥æ¥å£
â”‚   â””â”€â”€ MovingAverageCrossStrategy.java       # åŒå‡çº¿ç­–ç•¥
â”œâ”€â”€ entity/
â”‚   â”œâ”€â”€ Strategy.java                         # ç­–ç•¥å®ä½“
â”‚   â””â”€â”€ StrategySignal.java                   # ä¿¡å·å®ä½“
â”œâ”€â”€ repository/
â”‚   â”œâ”€â”€ StrategyRepository.java               # ç­–ç•¥æ•°æ®è®¿é—®
â”‚   â””â”€â”€ StrategySignalRepository.java         # ä¿¡å·æ•°æ®è®¿é—®
â”œâ”€â”€ service/
â”‚   â””â”€â”€ StrategyService.java                  # ç­–ç•¥æœåŠ¡
â””â”€â”€ controller/
    â””â”€â”€ StrategyController.java               # REST API

web-frontend/src/
â”œâ”€â”€ views/dashboard/
â”‚   â”œâ”€â”€ Strategy.vue                          # ç­–ç•¥ç®¡ç†é¡µé¢
â”‚   â””â”€â”€ Layout.vue                            # å¯¼èˆªå¸ƒå±€
â””â”€â”€ router/
    â””â”€â”€ index.js                              # è·¯ç”±é…ç½®
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å‚è€ƒèµ„æ–™" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-hidden="true">#</a> å‚è€ƒèµ„æ–™</h3>`,222),r={href:"https://www.investopedia.com/terms/t/technicalindicator.asp",target:"_blank",rel:"noopener noreferrer"},d={href:"https://www.investopedia.com/articles/active-trading/052014/how-use-moving-average-buy-stocks.asp",target:"_blank",rel:"noopener noreferrer"},k={href:"https://spring.io/projects/spring-boot",target:"_blank",rel:"noopener noreferrer"},v={href:"https://vuejs.org/",target:"_blank",rel:"noopener noreferrer"},m={href:"https://element-plus.org/",target:"_blank",rel:"noopener noreferrer"},g=n("hr",null,null,-1),b=n("p",null,[n("strong",null,"æ–‡æ¡£ç‰ˆæœ¬"),s(": 1.0 "),n("strong",null,"æœ€åæ›´æ–°"),s(": 2025-10-23 "),n("strong",null,"ä½œè€…"),s(": WeQuantå›¢é˜Ÿ")],-1);function h(y,q){const a=p("ExternalLinkIcon");return o(),i("div",null,[u,n("ul",null,[n("li",null,[n("a",r,[s("æŠ€æœ¯åˆ†ææŒ‡æ ‡è¯¦è§£"),t(a)])]),n("li",null,[n("a",d,[s("ç§»åŠ¨å¹³å‡çº¿ç­–ç•¥"),t(a)])]),n("li",null,[n("a",k,[s("Spring Bootå®˜æ–¹æ–‡æ¡£"),t(a)])]),n("li",null,[n("a",v,[s("Vue.jså®˜æ–¹æ–‡æ¡£"),t(a)])]),n("li",null,[n("a",m,[s("Element Plusç»„ä»¶åº“"),t(a)])])]),g,b])}const f=e(l,[["render",h],["__file","MA_CROSS_STRATEGY_GUIDE.html.vue"]]);export{f as default};
